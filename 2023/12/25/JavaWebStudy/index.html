<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>JavaWebStudy | Cleftgou-Blog</title><meta name="author" content="Cleftgou"><meta name="copyright" content="Cleftgou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="ğŸ˜Šä¸€ä¸ªåˆæ³•çš„webappç›®å½•12345678910webapproot(æ¯”å¦‚StudentServletæ–‡ä»¶å¤¹ä¸‹)	|------WEB-INF			|------classes(å­˜æ”¾ç¼–è¯‘å¥½çš„classæ–‡ä»¶ã€è®°å¾—å¸¦ä¸Šcomæ–‡ä»¶å¤¹ã€‘)			|------lib(ç¬¬ä¸‰æ–¹jaråŒ…)			|------web.xml(æ³¨å†ŒServlet)	|-------html	|-------css	|------">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWebStudy">
<meta property="og:url" content="https://blog-demo-beige-five.vercel.app/2023/12/25/JavaWebStudy/index.html">
<meta property="og:site_name" content="Cleftgou-Blog">
<meta property="og:description" content="ğŸ˜Šä¸€ä¸ªåˆæ³•çš„webappç›®å½•12345678910webapproot(æ¯”å¦‚StudentServletæ–‡ä»¶å¤¹ä¸‹)	|------WEB-INF			|------classes(å­˜æ”¾ç¼–è¯‘å¥½çš„classæ–‡ä»¶ã€è®°å¾—å¸¦ä¸Šcomæ–‡ä»¶å¤¹ã€‘)			|------lib(ç¬¬ä¸‰æ–¹jaråŒ…)			|------web.xml(æ³¨å†ŒServlet)	|-------html	|-------css	|------">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog-demo-beige-five.vercel.app/images/%E5%B0%8F%E7%BE%8A.png">
<meta property="article:published_time" content="2023-12-25T13:07:00.000Z">
<meta property="article:modified_time" content="2024-04-01T14:42:53.045Z">
<meta property="article:author" content="Cleftgou">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog-demo-beige-five.vercel.app/images/%E5%B0%8F%E7%BE%8A.png"><link rel="shortcut icon" href="/images/%E5%9B%BE%E6%A0%87.png"><link rel="canonical" href="https://blog-demo-beige-five.vercel.app/2023/12/25/JavaWebStudy/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: 'å¤©',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaWebStudy',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2024-04-01 22:42:53'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><script> var leaveTitle = 'w(ï¾ŸĞ”ï¾Ÿ)w ç¡®å®šä¸å†çœ‹çœ‹å˜›ï¼'; var backTitle = 'â™ª(^âˆ‡^*)æ¬¢è¿å›æ¥ï¼'; var OriginTitile = "Cleftgou-Blog"; var titleTime;
document.addEventListener('visibilitychange', function () { if (document.hidden) { document.title = leaveTitle; clearTimeout(titleTime); } else { document.title = backTitle + OriginTitile; titleTime = setTimeout(function () { document.title = OriginTitile; }, 2000); } }); </script><!-- hexo injector head_end start --><link rel="stylesheet" href="/css/runtime.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/%E5%A4%B4%E5%83%8F1.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/%E5%B0%8F%E7%BE%8A.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Cleftgou-Blog"><span class="site-name">Cleftgou-Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> æ¸…å•</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> ç…§ç‰‡</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> ç”µå½±</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaWebStudy</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-12-25T13:07:00.000Z" title="å‘è¡¨äº 2023-12-25 21:07:00">2023-12-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2024-04-01T14:42:53.045Z" title="æ›´æ–°äº 2024-04-01 22:42:53">2024-04-01</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">16.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>69åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaWebStudy"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="ğŸ˜Šä¸€ä¸ªåˆæ³•çš„webappç›®å½•"><a href="#ğŸ˜Šä¸€ä¸ªåˆæ³•çš„webappç›®å½•" class="headerlink" title="ğŸ˜Šä¸€ä¸ªåˆæ³•çš„webappç›®å½•"></a>ğŸ˜Šä¸€ä¸ªåˆæ³•çš„webappç›®å½•</h1><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">webapproot(æ¯”å¦‚StudentServletæ–‡ä»¶å¤¹ä¸‹)</span><br><span class="line">	|------WEB-INF</span><br><span class="line">			|------classes(å­˜æ”¾ç¼–è¯‘å¥½çš„classæ–‡ä»¶ã€è®°å¾—å¸¦ä¸Šcomæ–‡ä»¶å¤¹ã€‘)</span><br><span class="line">			|------lib(ç¬¬ä¸‰æ–¹jaråŒ…)</span><br><span class="line">			|------web.xml(æ³¨å†ŒServlet)</span><br><span class="line">	|-------html</span><br><span class="line">	|-------css</span><br><span class="line">	|-------javascript</span><br><span class="line">	|-------image</span><br><span class="line">	...</span><br></pre></td></tr></table></figure>

<p>æ–°å»ºä¸€ä¸ªåŸºæœ¬çš„Javaé¡¹ç›®ï¼Œç„¶åé€‰ä¸­é¡¹ç›®ä¸ºå…¶åŠ ä¸Šwebæ¡†æ¶æ”¯æŒ</p>
<h1 id="ğŸ˜Šåœ¨ideaä¸­å¼€å‘servletç¨‹åºçš„æ­¥éª¤"><a href="#ğŸ˜Šåœ¨ideaä¸­å¼€å‘servletç¨‹åºçš„æ­¥éª¤" class="headerlink" title="ğŸ˜Šåœ¨ideaä¸­å¼€å‘servletç¨‹åºçš„æ­¥éª¤"></a>ğŸ˜Šåœ¨ideaä¸­å¼€å‘servletç¨‹åºçš„æ­¥éª¤</h1><p>1ã€New Project æ–°å»ºä¸€ä¸ªç©ºå·¥ç¨‹ç„¶åå†æ·»åŠ æ¨¡å—</p>
<p>2ã€æ–°å»ºä¸€ä¸ªæ™®é€šçš„javaseæ¨¡å—</p>
<p>3ã€æ·»åŠ webæ¡†æ¶æ”¯æŒ</p>
<p>4ã€ç°åœ¨å¯ä»¥å…ˆæŠŠjspæ–‡ä»¶åˆ é™¤</p>
<p>5ã€ç¼–å†™servletçš„å®ç°ç±»ï¼Œè®°å¾—å…ˆå¯¼å…¥servletæ¨¡å—</p>
<p>6ã€åœ¨servletä¸­çš„serviceæ–¹æ³•ä¸­ç¼–å†™ä¸šåŠ¡ä»£ç ï¼ˆè¿™é‡Œç”¨äº†jdbcéœ€è¦èµ·ç‚¹æ•°æ®åº“æœåŠ¡ï¼Œä»¥åŠè¿æ¥æ•°æ®åº“ç­‰ç­‰ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.niu.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentServlet</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹</span></span><br><span class="line">        servletResponse.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> servletResponse.getWriter();</span><br><span class="line"></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//æ³¨å†Œé©±åŠ¨</span></span><br><span class="line">            Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">            <span class="comment">//è·å–è¿æ¥</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/bjpowernode&quot;</span>;</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">            <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">            conn = DriverManager.getConnection(url, name, password);</span><br><span class="line">            <span class="comment">//è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select deptno, loc from dept&quot;</span>;</span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            <span class="comment">//æ‰§è¡Œsql</span></span><br><span class="line">            rs = ps.executeQuery();</span><br><span class="line">            <span class="comment">//å¤„ç†æŸ¥è¯¢ç»“æœé›†</span></span><br><span class="line">            <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">deptno</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;deptno&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">loc</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;loc&quot;</span>);</span><br><span class="line">                out.print(deptno + <span class="string">&quot;,&quot;</span> + loc +<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException | SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//å…³é—­æ•°æ®æµ</span></span><br><span class="line">            <span class="keyword">if</span> (rs != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    rs.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (ps != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    ps.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (conn != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    conn.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getServletInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>7ã€åœ¨WEB-INFä¸‹æ–°å»ºå­ç›®å½•libï¼ŒæŠŠæ•°æ®åº“çš„é©±åŠ¨jaråŒ…æ”¾åˆ°è¿™é‡Œ</p>
<p>8ã€åœ¨web.xmlä¸­å®Œæˆç±»çš„æ³¨å†Œ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>studentServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.niu.servlet.StudentServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>studentServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servlet/student<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>9ã€åœ¨webç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªhtmlæ–‡ä»¶ç”¨äºç»™å‡ºä¸€ä¸ªè¶…é“¾æ¥è®¿é—®æ•°æ®åº“</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>student page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¿™é‡Œåªæ˜¯é™æ€ç•Œé¢ï¼Œæ²¡å­¦ä¹ jsp--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¿™é‡Œè¦éšä¾¿åŠ ä¸Šé¡¹ç›®å--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/xiangmuming/servlet/student&quot;</span>&gt;</span>student list<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>10ã€è®©ideaå»å…³è”tomcatæœåŠ¡å™¨ï¼Œåœ¨éƒ¨ç½²é€‰é¡¹ä¸­ä¿®æ”¹â€œåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡â€ä¸º&#x2F;é¡¹ç›®å</p>
<p>11ã€å¯åŠ¨tomcatæœåŠ¡å™¨</p>
<p>12ã€ä¸è¦è®©tomcatè‡ªå·±å¯åŠ¨æµè§ˆå™¨ï¼Œåº”è¯¥è‡ªå·±æ‰‹åŠ¨è¾“å…¥ï¼ˆä¾‹å¦‚ï¼š(<a target="_blank" rel="noopener" href="http://localhost:8080/xiangmuming/student.html)%EF%BC%89">http://localhost:8080/xiangmuming/student.html)ï¼‰</a></p>
<h1 id="ğŸ˜ŠServletå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#ğŸ˜ŠServletå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ğŸ˜ŠServletå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ"></a>ğŸ˜ŠServletå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</h1><p>Servletå¯¹è±¡æ˜¯ç”±TomcatæœåŠ¡å™¨ï¼ˆåˆå«åšWEBå®¹å™¨ï¼‰å…¨æƒè´Ÿè´£çš„ï¼Œä½†æ˜¯è‡ªå·±åˆ›å»ºçš„Servletå¯¹è±¡æ˜¯ä¸å—WEBå®¹å™¨ç®¡ç†çš„ã€‚</p>
<p>WEBå®¹å™¨åº•å±‚æ˜¯ä¸€ä¸ªHashMapé›†åˆï¼Œåªæœ‰æ”¾åˆ°è¿™ä¸ªé›†åˆé‡Œçš„Servletæ‰èƒ½è¢«WEBå®¹å™¨ç®¡ç†ã€‚</p>
<p>è¿™ä¸ªé›†åˆçš„key:è¯·æ±‚è·¯å¾„ï¼Œvalue:å¯¹åº”çš„Servletå¯¹è±¡ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨åœ¨å¯åŠ¨æ—¶Servletå¯¹è±¡å¹¶ä¸ä¼šè¢«å®ä¾‹åŒ–ã€‚</p>
<p>ä½†å¯ä»¥åœ¨xmlä¸­è¿™æ ·é…ç½®ï¼Œå°±èƒ½å¼€å±€å®ä¾‹åŒ–äº†ï¼ˆä¸€èˆ¬ä¸ç”¨ï¼‰</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.bj.javaweb.servlet.AServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¿™é‡ŒåŠ ä¸ªæ•´æ•°ï¼Œæ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>0<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>Servletå¯¹è±¡ç”Ÿå‘½å‘¨æœŸ</p>
<p>å…ˆçœ‹æ§åˆ¶å°è¾“å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Aæ— å‚æ•°æ„é€ æ–¹æ³•æ‰§è¡Œäº†</span><br><span class="line">AServlet&#x27;s init method execute!</span><br><span class="line">AServlet&#x27;s service method execute!</span><br><span class="line">AServlet&#x27;s service method execute!</span><br><span class="line">AServlet&#x27;s service method execute!</span><br><span class="line">AServlet&#x27;s service method execute!</span><br></pre></td></tr></table></figure>

<p>ç”¨æˆ·ç¬¬ä¸€æ¬¡å‘é€è¯·æ±‚æ—¶ï¼ŒServletå¯¹è±¡è¢«å®ä¾‹åŒ–ï¼ˆAServletçš„æ— å‚æ„é€ æ–¹æ³•è¢«æ‰§è¡Œäº†ï¼‰ã€‚</p>
<p>AServletå¯¹è±¡è¢«åˆ›å»ºå‡ºæ¥åï¼ŒTomcatæœåŠ¡å™¨é©¬ä¸Šè°ƒç”¨AServletå¯¹è±¡çš„initæ–¹æ³•ã€‚</p>
<p>initæ–¹æ³•æ‰§è¡Œä¹‹åï¼ŒTomcatæœåŠ¡å™¨é©¬ä¸Šè°ƒç”¨AServletå¯¹è±¡çš„serviceæ–¹æ³•</p>
<p>åç»­ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼Œåªæ‰§è¡Œserviceæ–¹æ³•</p>
<p>ä»¥ä¸Šè¿™äº›è¯´æ˜ï¼š</p>
<p>1.Servletå¯¹è±¡æ˜¯å•ä¾‹ï¼ˆå•ä¸ªå®ä¾‹å¯¹è±¡ï¼‰çš„ï¼Œå‡†ç¡®æ¥è¯´æ˜¯å‡å•ä¾‹çš„ï¼ˆå› ä¸ºnewçš„æ“ä½œæ˜¯æœåŠ¡å™¨åšçš„ï¼‰ã€‚</p>
<p>2.æ— å‚æ•°æ„é€ æ–¹æ³•ï¼Œinitåªæœ‰ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´æ— å‚æ„é€ æ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡ï¼Œinitæ–¹æ³•é¡µåªè¢«TomcatæœåŠ¡å™¨è°ƒç”¨ä¸€æ¬¡ã€‚</p>
<p>3.åªè¦ç”¨æˆ·å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œserviceæ–¹æ³•å°±å¿…ç„¶ä¼šè¢«æœåŠ¡å™¨è°ƒç”¨ä¸€æ¬¡ã€‚</p>
<p>å…³é—­æœåŠ¡å™¨æ—¶ï¼Œæ§åˆ¶å°è¾“å‡ºäº†ä¸‹é¢çš„å†…å®¹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AServlet&#x27;s destroy method execute!</span><br></pre></td></tr></table></figure>



<p>è¿™è¯´æ˜ï¼š</p>
<p>Servletçš„destroyæ–¹æ³•åªè¢«æœåŠ¡å™¨è°ƒç”¨ä¸€æ¬¡ã€‚</p>
<p>destroyæ–¹æ³•æ˜¯åœ¨æœåŠ¡å™¨å…³é—­çš„æ—¶å€™è°ƒç”¨çš„ï¼Œè¿™æ˜¯æœåŠ¡å™¨ä¸ºäº†é”€æ¯AServletå¯¹è±¡ã€‚</p>
<p>è¿™ä¸ªæ–¹æ³•è°ƒç”¨æ—¶ï¼Œå¯¹è±¡è¿˜æ²¡æœ‰è¢«é”€æ¯ï¼ˆå› ä¸ºè¦å¯¹è±¡è¦è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼‰ï¼Œè°ƒç”¨å®Œæˆåæ‰é”€æ¯ã€‚</p>
<h1 id="ğŸ˜ServletConfig"><a href="#ğŸ˜ServletConfig" class="headerlink" title="ğŸ˜ServletConfig"></a>ğŸ˜ServletConfig</h1><p>ServletConfigï¼ˆServletå¯¹è±¡çš„é…ç½®ä¿¡æ¯å¯¹è±¡ï¼‰:Servletè§„èŒƒä¸­çš„ä¸€å‘˜ï¼Œæ˜¯ä¸€ä¸ªæ¥å£<br>org.apache.catalina.core.StandardWrapperFacadeå®ç°äº†æ¥å£ï¼ˆtomcatæœåŠ¡å™¨å®ç°äº†æ¥å£ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">org</span>.apache.catalina.core.StandardWrapperFacade <span class="keyword">implements</span> <span class="title class_">ServletContext</span></span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªServletå¯¹è±¡æœ‰ä¸€ä¸ªServletConfigå¯¹åº”ï¼Œä¸”æ˜¯ä¸€å¯¹ä¸€çš„<br>è¿™ä¸ªå¯¹è±¡æ˜¯tomcatæœåŠ¡å™¨åˆ›å»ºçš„ï¼Œåœ¨åˆ›å»ºServletå¯¹è±¡çš„åŒæ—¶åˆ›å»ºäº†ServletConfigå¯¹è±¡</p>
<p>ServletConfigå¯¹è±¡ä¸­åŒ…å«çš„ä¿¡æ¯ï¼ˆåœ¨xmlæ–‡ä»¶ä¸­ï¼‰servletæ ‡ç­¾ä¸­çš„å†…å®¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>AServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.niu.pojo.AServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>name<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>niu<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>password<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>tomcatæœåŠ¡å™¨åˆ›å»ºServletConfigå¯¹è±¡æ—¶ï¼Œä¼šæŠŠServletæ ‡ç­¾ä¸­çš„å†…å®¹å°è£…åˆ°ServletConfigå¯¹è±¡ä¸­</p>
<p><init-parm>æ ‡ç­¾ä¸­å°±æ˜¯Servletæ ‡ç­¾ä¸­çš„åˆå§‹åŒ–å‚æ•°</p>
<p>ServletConfigæ¥å£çš„å¸¸ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getInitParameter</span><span class="params">(String nane)</span>;<span class="comment">//é€šè¿‡åˆå§‹åŒ–å‚æ•°çš„nameè·å–value</span></span><br><span class="line"><span class="keyword">public</span> Enumeration&lt;string&gt; <span class="title function_">getInitParameterNames</span><span class="params">()</span>;<span class="comment">//è·å–æ‰€æœ‰çš„åˆå§‹åŒ–å‚æ•°çš„name</span></span><br><span class="line"><span class="keyword">public</span> ServletContext <span class="title function_">getServletContext</span><span class="params">()</span>;<span class="comment">//è·å–ServletContextå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getServletName</span><span class="params">()</span>;<span class="comment">//è·å–Servletçš„name</span></span><br></pre></td></tr></table></figure>

<h1 id="ğŸ˜ServletContext"><a href="#ğŸ˜ServletContext" class="headerlink" title="ğŸ˜ServletContext"></a>ğŸ˜ServletContext</h1><p>ServletContextï¼ˆServletå¯¹è±¡çš„ç¯å¢ƒä¿¡æ¯å¯¹è±¡åˆå«Servletå¯¹è±¡çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼‰æ˜¯Servletè§„èŒƒä¸­çš„ä¸€å‘˜ã€‚</p>
<p>org.apache.catalina.core.ApplicationContextFacadeå®ç°äº†æ¥å£ï¼ˆtomcatæœåŠ¡å™¨å®ç°äº†æ¥å£ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">org</span>.apache.catalina.core.ApplicationContextFacade <span class="keyword">implements</span> <span class="title class_">ServletContext</span></span><br></pre></td></tr></table></figure>

<p>å¯¹äºä¸€ä¸ªwebappæ¥è¯´ï¼ŒServletContextå¯¹è±¡åªæœ‰ä¸€ä¸ªï¼Œä¸”åœ¨æœåŠ¡å™¨å…³é—­æ—¶é”€æ¯</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">   <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>user<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>work<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>homework<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    ä»¥ä¸Šä¿¡æ¯å±äºåº”ç”¨çº§çš„é…ç½®ä¿¡æ¯ï¼Œä¸€èˆ¬ä¸€ä¸ªé¡¹ç›®ä¸­å…±äº«çš„é…ç½®ä¿¡æ¯ä¼šæ”¾åˆ°ä»¥ä¸Šçš„æ ‡ç­¾å½“ä¸­--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    å¦‚æœé…ç½®ä¿¡æ¯åªæƒ³ç»™æŸä¸€ä¸ªservletå‚è€ƒï¼Œé‚£ä¹ˆåº”å½“é…ç½®åœ¨servletæ ‡ç­¾ä¸­ä½¿ç”¨--&gt;</span></span><br></pre></td></tr></table></figure>

<p>ServletContextæ¥å£çš„å¸¸ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getInitParameter</span><span class="params">(String name)</span>;<span class="comment">//é€šè¿‡åˆå§‹åŒ–å‚æ•°çš„nameè·å–value</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Enumeration&lt;string&gt; <span class="title function_">getInitParameterNames</span><span class="params">()</span>;<span class="comment">//è·å–æ‰€æœ‰çš„åˆå§‹åŒ–å‚æ•°çš„name</span></span><br><span class="line"></span><br><span class="line">ä½¿ç”¨å®ä¾‹ï¼š</span><br><span class="line">        Enumeration&lt;String&gt; en = application.getInitParameterNames();</span><br><span class="line">        <span class="keyword">while</span> (en.hasMoreElements())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> en.nextElement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> application.getInitParameter(name);</span><br><span class="line">            out.println(<span class="string">&quot;name:&quot;</span>+name+<span class="string">&quot;value:&quot;</span>+value);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>æ›´å¤šæ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getContextPath</span><span class="params">()</span>;<span class="comment">//åŠ¨æ€çš„è·å–åº”ç”¨çš„æ ¹è·¯å¾„ï¼Œé¿å…åœ¨ç¨‹åºä¸­å°†è·¯å¾„å†™æ­»ï¼Œ</span></span><br><span class="line"><span class="comment">//è¾“å‡ºç»“æœä¾‹å¦‚/servlet03_war_exploded</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getRealPath</span><span class="params">(String path)</span>;<span class="comment">//è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼ˆçœŸå®è·¯å¾„ï¼‰é»˜è®¤æ˜¯ä»æ ¹ç›®å½•ï¼ˆå³webç›®å½•ï¼‰ä¸‹å¼€å§‹å¯»æ‰¾ï¼Œæ‰€ä»¥å‚æ•°è¦å¡«å†™webä¸‹çš„ç›®å½•è·¯å¾„ï¼Œä¾‹å¦‚\common\index.html</span></span><br><span class="line"><span class="comment">//è¾“å‡ºç»“æœä¾‹å¦‚D:\JAVA\IntelliJ IDEA 2021.2.3\WorkSpace_JAVA\JavaWeb_Study\out\artifacts\servlet03_war_exploded\common\index.html </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">log</span><span class="params">(String message)</span>;<span class="comment">//è®°å½•æ—¥å¿—ï¼Œapplication.log(&quot;ä»Šå¤©æ˜¯ç¾å¥½çš„ä¸€å¤©&quot;);</span></span><br><span class="line"><span class="comment">//è®°å½•åœ¨ä¾‹å¦‚C:\Users\bairimengchang\AppData\Local\JetBrains\IntelliJIdea2021.2\tomcat\92fbcfde-f5d8-4b1b-9c57-3e22239ccedeç›®å½•ä¸‹çš„logsæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line"><span class="comment">//æ—¥å¿—æ–‡ä»¶çš„åˆ†ç±»</span></span><br><span class="line"><span class="comment">//catalina.2023-10-07.log æœåŠ¡å™¨ç«¯çš„javaç¨‹åºè¿è¡Œçš„æ§åˆ¶å°ä¿¡æ¯</span></span><br><span class="line"><span class="comment">//localhost.2023-10-17.log ServletContextå¯¹è±¡çš„logæ–¹æ³•è®°å½•çš„æ—¥å¿—ä¿¡æ¯</span></span><br><span class="line"><span class="comment">//localhost_access_log.2023-10-21.log è®¿é—®æ—¥å¿—</span></span><br></pre></td></tr></table></figure>

<p>æ›´å¤šæ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ServletContextå¯¹è±¡åˆè¢«å«åšåº”ç”¨åŸŸï¼ˆåé¢è¿˜æœ‰è¯·æ±‚åŸŸã€ä¼šè¯åŸŸï¼‰</span></span><br><span class="line"><span class="comment">// å¦‚æœæ‰€æœ‰servletåº”ç”¨å…±äº«ä¸€ä»½æ•°æ®ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°æ®å¾ˆå°‘ä¿®æ”¹ï¼Œé‡å¾ˆå°‘ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†è¿™äº›æ•°æ®æ”¾åˆ°ServletContextè¿™ä¸ªåº”ç”¨åŸŸä¸­</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAttribute</span><span class="params">(String name,Object value)</span>;<span class="comment">//å‘åº”ç”¨åŸŸå­˜æ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">getAttribute</span><span class="params">(String name)</span>;<span class="comment">//å‘åº”ç”¨åŸŸå–æ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeAttribute</span><span class="params">(String name)</span>;<span class="comment">//åˆ é™¤åº”ç”¨åŸŸçš„æ•°æ®</span></span><br></pre></td></tr></table></figure>

<h1 id="ğŸ˜ŠHTTPåè®®"><a href="#ğŸ˜ŠHTTPåè®®" class="headerlink" title="ğŸ˜ŠHTTPåè®®"></a>ğŸ˜ŠHTTPåè®®</h1><p>åè®®ï¼šä¸€å¥—è§„èŒƒï¼Œä¸€å¥—æ ‡å‡†ï¼ŒæŒ‰ç…§è¿™ä¸ªè§„èŒƒæ¥ï¼Œæ‰èƒ½æ— éšœç¢äº¤æµã€‚</p>
<p>HTTPï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰ç”±W3Cåˆ¶å®šçš„ä¸€ç§æ¶ˆæ¯æ¨¡æ¿ã€‚</p>
<ul>
<li>è¶…æ–‡æœ¬ï¼šä¸æ˜¯æ™®é€šæ–‡æœ¬ï¼Œæ¯”å¦‚æµåª’ä½“ï¼šå£°éŸ³ã€è§†é¢‘ã€å›¾ç‰‡ç­‰ã€‚</li>
<li>HTTPåè®®æ”¯æŒï¼šä¸ä½†å¯ä»¥ä¼ é€æ™®é€šå­—ç¬¦ä¸²ï¼ŒåŒæ—¶æ”¯æŒä¼ é€’å£°éŸ³ã€è§†é¢‘ã€å›¾ç‰‡ç­‰æµåª’ä½“ä¿¡æ¯ã€‚</li>
</ul>
<p>è¿™ç§åè®®æ¸¸èµ°åœ¨B&#x2F;Sä¹‹é—´ï¼ŒB-&gt;Så‘æ•°æ®éœ€è¦éµå¾ªHTTPåè®®ï¼ˆè¯·æ±‚requestï¼‰ï¼ŒS-&gt;Bå‘æ•°æ®ä¹Ÿéœ€è¦éµå¾ªHTTPåè®®ï¼ˆå“åº”responseï¼‰ã€‚è¿™æ ·Bå’ŒSä¹‹é—´æ‰èƒ½è§£è€¦åˆã€‚</p>
<ul>
<li><p>è§£è€¦åˆï¼šBä¸ä¾èµ–Sï¼ŒSä¹Ÿä¸ä¾èµ–Bã€‚</p>
</li>
<li><p>è¯·æ±‚åè®®ï¼šæµè§ˆå™¨å‘webæœåŠ¡å™¨å‘é€æ•°æ®çš„æ—¶å€™ï¼Œè¿™ä¸ªå‘é€çš„æ•°æ®éœ€è¦éµå¾ªä¸€å¥—æ ‡å‡†ï¼Œè¿™å¥—æ ‡å‡†ä¸­è§„å®šäº†å‘é€çš„æ•°æ®å…·ä½“æ ¼å¼ã€‚</p>
<ul>
<li><p>HTTPè¯·æ±‚åè®®åŒ…æ‹¬ï¼š4éƒ¨åˆ†</p>
<ul>
<li>è¯·æ±‚è¡Œ</li>
<li>è¯·æ±‚å¤´</li>
<li>ç©ºç™½è¡Œ</li>
<li>è¯·æ±‚ä½“</li>
</ul>
</li>
<li><p>HTTPè¯·æ±‚åè®®çš„å…·ä½“æŠ¥æ–‡ï¼šGETè¯·æ±‚</p>
<ul>
<li><pre><code>è¯·æ±‚è¡Œ
GET /servlet04_war_exploded/getServlet?username=jick&amp;userpwd=123456 HTTP/1.1       
Accept:         	 			 
è¯·æ±‚å¤´text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6
Connection: keep-alive
Cookie: Webstorm-5e0ef3d1=dff06e2a-2d77-41a9-8e2f-fd485e866ba3
Host: localhost:8080
Referer: http://localhost:8080/servlet04_war_exploded/index.html
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: same-origin
Sec-Fetch-User: ?1
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36 Edg/118.0.2088.61
sec-ch-ua: &quot;Chromium&quot;;v=&quot;118&quot;, &quot;Microsoft Edge&quot;;v=&quot;118&quot;, &quot;Not=A?Brand&quot;;v=&quot;99&quot;
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: &quot;Windows&quot;
ç©ºç™½è¡Œ

è¯·æ±‚ä½“
username=jick&amp;userpwd=123456        ï¼ˆæŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ï¼‰
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">- HTTPè¯·æ±‚åè®®çš„å…·ä½“æŠ¥æ–‡ï¼šPOSTè¯·æ±‚</span><br><span class="line"></span><br><span class="line">  - ```</span><br><span class="line">    è¯·æ±‚è¡Œ</span><br><span class="line">    POST /servlet04_war_exploded/postServlet HTTP/1.1</span><br><span class="line">    è¯·æ±‚å¤´</span><br><span class="line">    Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7</span><br><span class="line">    Accept-Encoding: gzip, deflate, br</span><br><span class="line">    Accept-Language: zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6</span><br><span class="line">    Cache-Control: max-age=0</span><br><span class="line">    Connection: keep-alive</span><br><span class="line">    Content-Length: 28</span><br><span class="line">    Content-Type: application/x-www-form-urlencoded</span><br><span class="line">    Cookie: Webstorm-5e0ef3d1=dff06e2a-2d77-41a9-8e2f-fd485e866ba3</span><br><span class="line">    Host: localhost:8080</span><br><span class="line">    Origin: http://localhost:8080</span><br><span class="line">    Referer: http://localhost:8080/servlet04_war_exploded/index.html</span><br><span class="line">    Sec-Fetch-Dest: document</span><br><span class="line">    Sec-Fetch-Mode: navigate</span><br><span class="line">    Sec-Fetch-Site: same-origin</span><br><span class="line">    Sec-Fetch-User: ?1</span><br><span class="line">    Upgrade-Insecure-Requests: 1</span><br><span class="line">    User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36 Edg/118.0.2088.61</span><br><span class="line">    sec-ch-ua: &quot;Chromium&quot;;v=&quot;118&quot;, &quot;Microsoft Edge&quot;;v=&quot;118&quot;, &quot;Not=A?Brand&quot;;v=&quot;99&quot;</span><br><span class="line">    sec-ch-ua-mobile: ?0</span><br><span class="line">    sec-ch-ua-platform: &quot;Windows&quot;</span><br><span class="line">    ç©ºç™½è¡Œ</span><br><span class="line">    </span><br><span class="line">    è¯·æ±‚ä½“</span><br><span class="line">    username=jick&amp;userpwd=123456        ï¼ˆè¡¨å•æ•°æ®ï¼‰</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li><p>å“åº”åè®®ï¼šwebæœåŠ¡å™¨å‘æµè§ˆå™¨å‘é€æ•°æ®çš„æ—¶å€™ï¼Œè¿™ä¸ªå‘é€çš„æ•°æ®éœ€è¦éµå¾ªä¸€å¥—æ ‡å‡†ï¼Œè¿™å¥—æ ‡å‡†ä¸­è§„å®šäº†å‘é€çš„æ•°æ®å…·ä½“æ ¼å¼ã€‚</p>
<ul>
<li><p>HTTPå“åº”åè®®åŒ…æ‹¬ï¼š4éƒ¨åˆ†</p>
<ul>
<li>çŠ¶æ€è¡Œ</li>
<li>å“åº”å¤´</li>
<li>ç©ºç™½è¡Œ</li>
<li>å“åº”ä½“</li>
</ul>
</li>
<li><p>HTTPå“åº”åè®®å…·ä½“æŠ¥æ–‡</p>
<ul>
<li><pre><code class="html">HTTP/1.1 200
Content-Type: text/html;charset=UTF-8
Content-Length: 128
Date: Sat, 21 Oct 2023 12:23:57 GMT
Keep-Alive: timeout=20
Connection: keep-alive

&lt;!DOCTYPE html&gt;
&lt;head&gt;
    &lt;title&gt;from get servlet&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;from get servlet&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">ä»æœåŠ¡å™¨ä¸Šè·å–èµ„æºï¼Œä½¿ç”¨getè¯·æ±‚ï¼›å‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼Œä½¿ç”¨postè¯·æ±‚ã€‚postè¯·æ±‚ç›¸å¯¹å®‰å…¨</span><br><span class="line"></span><br><span class="line">å¤§éƒ¨åˆ†çš„formè¡¨å•æäº¤ï¼Œå› ä¸ºæ•°æ®é‡å¤§ï¼Œä¸”è¦ä¼ ç»™æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä½¿ç”¨postè¯·æ±‚ã€‚</span><br><span class="line"></span><br><span class="line">getè¯·æ±‚ä¼šå›æ˜¾æ•æ„Ÿä¿¡æ¯åˆ°åœ°å€æ ä¸Šã€‚</span><br><span class="line"></span><br><span class="line">å‘é€çš„è¯·æ±‚æ•°æ®çš„æ ¼å¼</span><br><span class="line"></span><br><span class="line">- name=value&amp;name=value&amp;name=value&amp;name=value</span><br><span class="line">- nameæ˜¯ä»€ä¹ˆï¼Ÿ	</span><br><span class="line">  - ä»¥formè¡¨å•ä¸ºä¾‹ï¼šformè¡¨å•ä¸­inputæ ‡ç­¾çš„name</span><br><span class="line">- valueæ˜¯ä»€ä¹ˆï¼Ÿ</span><br><span class="line">  - ä»¥formè¡¨å•ä¸ºä¾‹ï¼šformè¡¨å•ä¸­inputæ ‡ç­¾çš„value</span><br><span class="line"></span><br><span class="line"># ğŸ˜Šæ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</span><br><span class="line"></span><br><span class="line">- è®¾è®¡æ¨¡å¼ï¼šæŸä¸ªé—®é¢˜çš„å›ºå®šçš„è§£å†³æ–¹æ¡ˆã€‚ï¼ˆå¯ä»¥è¢«é‡å¤ä½¿ç”¨ï¼‰</span><br><span class="line">- è®¾è®¡æ¨¡å¼åˆ†ç±»</span><br><span class="line">  - GoFè®¾è®¡æ¨¡å¼ï¼š</span><br><span class="line">    - æŒ‡23ç§è®¾è®¡æ¨¡å¼</span><br><span class="line">    - å•ä¾‹æ¨¡å¼</span><br><span class="line">    - å·¥å‚æ¨¡å¼</span><br><span class="line">    - ä»£ç†æ¨¡å¼</span><br><span class="line">    - é—¨é¢æ¨¡å¼</span><br><span class="line">    - è´£ä»»é“¾è®¾è®¡æ¨¡å¼</span><br><span class="line">    - è§‚å¯Ÿè€…æ¨¡å¼</span><br><span class="line">    - æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</span><br><span class="line">    - ......</span><br><span class="line">  - JavaEEè®¾è®¡æ¨¡å¼ï¼š</span><br><span class="line">    - DAO</span><br><span class="line">    - DTO</span><br><span class="line">    - VO</span><br><span class="line">    - PO</span><br><span class="line">    - pojo</span><br><span class="line">    - ......</span><br><span class="line">- æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ï¼šåœ¨æ¨¡æ¿ç±»ï¼ˆé€šå¸¸æ˜¯æŠ½è±¡ç±»ï¼‰çš„æ¨¡æ¿æ–¹æ³•ä¸­å®šä¹‰æ ¸å¿ƒç®—æ³•ï¼ˆé€šå¸¸æ˜¯finalçš„ï¼‰éª¨æ¶ï¼Œå…·ä½“çš„å®ç°æ­¥éª¤å¯ä»¥å»¶è¿Ÿåˆ°å­ç±»å½“ä¸­å®Œæˆã€‚</span><br><span class="line"></span><br><span class="line"># ğŸ˜€HttpServletæºç åˆ†æ</span><br><span class="line"></span><br><span class="line">å›å¿†ä¸€ä¸‹Servletçš„ç”Ÿå‘½å‘¨æœŸ</span><br><span class="line"></span><br><span class="line">- ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼š</span><br><span class="line">  - TomcatæœåŠ¡å™¨é€šè¿‡åå°„æœºåˆ¶ï¼Œè°ƒç”¨æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚åˆ›å»ºServletå¯¹è±¡ã€‚ï¼ˆweb.xmlæ–‡ä»¶ä¸­é…ç½®çš„Servletç±»å¯¹åº”çš„å¯¹è±¡ï¼‰</span><br><span class="line">  - TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„initæ–¹æ³•å®Œæˆåˆå§‹åŒ–</span><br><span class="line">  - TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„serviceæ–¹æ³•å¤„ç†è¯·æ±‚</span><br><span class="line">- ç”¨æˆ·ç¬¬äºŒæ¬¡è¯·æ±‚ï¼š</span><br><span class="line">  - TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„serviceæ–¹æ³•å¤„ç†è¯·æ±‚</span><br><span class="line">- ç”¨æˆ·ç¬¬ä¸‰æ¬¡è¯·æ±‚ï¼š</span><br><span class="line">  - TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„serviceæ–¹æ³•å¤„ç†è¯·æ±‚</span><br><span class="line">- ...</span><br><span class="line">  - TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„serviceæ–¹æ³•å¤„ç†è¯·æ±‚</span><br><span class="line">- æœåŠ¡å™¨å…³é—­</span><br><span class="line">  - TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„destoryæ–¹æ³•ï¼Œåšé”€æ¯ä¹‹å‰çš„å·¥ä½œ</span><br><span class="line">  - TomcatæœåŠ¡å™¨é”€æ¯Servletå¯¹è±¡</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">public class WelcomeServlet extends HttpServlet&#123;</span><br><span class="line">	//ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ›å»ºWelcomeServletå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œè¿™ä¸ªæ— å‚æ•°æ„é€ æ–¹æ³•ã€‚</span><br><span class="line">    public WelcomeServlet()&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public abstract class GenericServlet implements Servlet, ServletConfig, java.io.Serializable &#123;</span><br><span class="line">    </span><br><span class="line">    //ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼ŒWelcomeServletå¯¹è±¡ç¬¬ä¸€æ¬¡è¢«åˆ›å»ºä¹‹åï¼Œè¿™ä¸ªinitæ–¹æ³•ä¼šæ‰§è¡Œ</span><br><span class="line">        public void init(ServletConfig config) throws ServletException &#123;</span><br><span class="line">        this.config = config;</span><br><span class="line">        this.init();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œå¸¦æœ‰å‚æ•°çš„init(ServletConfig config)æ‰§è¡Œä¹‹åï¼Œä¼šæ‰§è¡Œè¿™ä¸ªæ²¡æœ‰å‚æ•°çš„init()</span><br><span class="line">     public void init() throws ServletException &#123;</span><br><span class="line">        // NOOP by default</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//HttpServletæ¨¡æ¿ç±»</span><br><span class="line">public abstract class HttpServlet extends GenericServlet &#123;</span><br><span class="line">    //ç”¨æˆ·æ¯æ¬¡å‘è¯·æ±‚éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡è¿™ä¸ªserviceæ–¹æ³•</span><br><span class="line">    @Override</span><br><span class="line">    public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        HttpServletRequest request;</span><br><span class="line">        HttpServletResponse response;</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            //å°†ServletRequestå’ŒServletResponseå‘ä¸‹è½¬å‹ä¸ºå¸¦æœ‰Httpçš„HttpServletRequestå’ŒHttpServletResponse</span><br><span class="line">            request = (HttpServletRequest) req;</span><br><span class="line">            response = (HttpServletResponse) res;</span><br><span class="line">        &#125; catch (ClassCastException e) &#123;</span><br><span class="line">            throw new ServletException(lStrings.getString(&quot;http.non_http&quot;));</span><br><span class="line">        &#125;</span><br><span class="line">        //è°ƒç”¨é‡è½½çš„serviceæ–¹æ³•</span><br><span class="line">        service(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //è¿™ä¸ªserviceæ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å¸¦æœ‰Httpçš„</span><br><span class="line">    //è¿™ä¸ªserviceæ˜¯ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•</span><br><span class="line">    //æ ¸å¿ƒç®—æ³•éª¨æ¶ï¼Œå…·ä½“å®ç°å»¶è¿Ÿåˆ°å­ç±»ä¸­å»å®Œæˆ</span><br><span class="line">    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">		//è·å–è¯·æ±‚æ–¹å¼ï¼Œè¿™é‡Œç”¨åˆ°äº†è¯·æ±‚å¯¹è±¡reqï¼Œæˆ‘ä»¬ä¹‹åé‡å†™doGetç­‰é¦–å…ˆæ“ä½œçš„æ˜¯å“åº”å¯¹è±¡resp</span><br><span class="line">        //è·å¾—ä¸ƒç§è¯·æ±‚æ–¹å¼ä¸­çš„ä¸€ç§</span><br><span class="line">        //GET POST PUT DELETE HEAD OPTIONS TRACE</span><br><span class="line">        String method = req.getMethod();</span><br><span class="line"></span><br><span class="line">        //å¦‚æœè¯·æ±‚æ–¹å¼æ˜¯GETè¯·æ±‚ï¼Œåˆ™æ‰§è¡ŒdoGetæ–¹å¼</span><br><span class="line">        if (method.equals(METHOD_GET)) &#123;</span><br><span class="line">            long lastModified = getLastModified(req);</span><br><span class="line">            if (lastModified == -1) &#123;</span><br><span class="line">                // servlet doesn&#x27;t support if-modified-since, no reason</span><br><span class="line">                // to go through further expensive logic</span><br><span class="line">                doGet(req, resp);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                long ifModifiedSince;</span><br><span class="line">                try &#123;</span><br><span class="line">                    ifModifiedSince = req.getDateHeader(HEADER_IFMODSINCE);</span><br><span class="line">                &#125; catch (IllegalArgumentException iae) &#123;</span><br><span class="line">                    // Invalid date header - proceed as if none was set</span><br><span class="line">                    ifModifiedSince = -1;</span><br><span class="line">                &#125;</span><br><span class="line">                if (ifModifiedSince &lt; (lastModified / 1000 * 1000)) &#123;</span><br><span class="line">                    // If the servlet mod time is later, call doGet()</span><br><span class="line">                    // Round down to the nearest second for a proper compare</span><br><span class="line">                    // A ifModifiedSince of -1 will always be less</span><br><span class="line">                    maybeSetLastModified(resp, lastModified);</span><br><span class="line">                    doGet(req, resp);</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    resp.setStatus(HttpServletResponse.SC_NOT_MODIFIED);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; else if (method.equals(METHOD_HEAD)) &#123;</span><br><span class="line">            long lastModified = getLastModified(req);</span><br><span class="line">            maybeSetLastModified(resp, lastModified);</span><br><span class="line">            doHead(req, resp);</span><br><span class="line"></span><br><span class="line">        &#125; else if (method.equals(METHOD_POST)) &#123;</span><br><span class="line">            doPost(req, resp);</span><br><span class="line"></span><br><span class="line">        &#125; else if (method.equals(METHOD_PUT)) &#123;</span><br><span class="line">            doPut(req, resp);</span><br><span class="line"></span><br><span class="line">        &#125; else if (method.equals(METHOD_DELETE)) &#123;</span><br><span class="line">            doDelete(req, resp);</span><br><span class="line"></span><br><span class="line">        &#125; else if (method.equals(METHOD_OPTIONS)) &#123;</span><br><span class="line">            doOptions(req, resp);</span><br><span class="line"></span><br><span class="line">        &#125; else if (method.equals(METHOD_TRACE)) &#123;</span><br><span class="line">            doTrace(req, resp);</span><br><span class="line"></span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            //</span><br><span class="line">            // Note that this means NO servlet supports whatever</span><br><span class="line">            // method was requested, anywhere on this server.</span><br><span class="line">            //</span><br><span class="line"></span><br><span class="line">            String errMsg = lStrings.getString(&quot;http.method_not_implemented&quot;);</span><br><span class="line">            Object[] errArgs = new Object[1];</span><br><span class="line">            errArgs[0] = method;</span><br><span class="line">            errMsg = MessageFormat.format(errMsg, errArgs);</span><br><span class="line"></span><br><span class="line">            resp.sendError(HttpServletResponse.SC_NOT_IMPLEMENTED, errMsg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //ä¸¤ä¸ª405é”™è¯¯ï¼Œè¡¨ç¤ºè¯·æ±‚æ–¹å¼é”™è¯¯</span><br><span class="line">    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line">        String msg = lStrings.getString(&quot;http.method_get_not_supported&quot;);</span><br><span class="line">        sendMethodNotAllowed(req, resp, msg);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">        protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">        String msg = lStrings.getString(&quot;http.method_post_not_supported&quot;);</span><br><span class="line">        sendMethodNotAllowed(req, resp, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>å¦‚æœå‰ç«¯å‘é€è¯·æ±‚æ˜¯getè¯·æ±‚ï¼Œåˆ™åç«¯ç¨‹åºå‘˜é‡å†™çš„æ–¹æ³•æ˜¯doGetã€‚</p>
<p>å¦‚æœå‰ç«¯å‘é€è¯·æ±‚æ˜¯postè¯·æ±‚ï¼Œåˆ™åç«¯ç¨‹åºå‘˜é‡å†™çš„æ–¹æ³•æ˜¯doPostã€‚</p>
<p>å¦‚æœä¸è¿™æ ·åšï¼Œå°±ä¼šä½“ä¼šåˆ°HttpServletçš„405æŠ¥é”™æœåŠ¡ã€‚</p>
<h1 id="ğŸ˜‚webç«™ç‚¹çš„æ¬¢è¿ç•Œé¢"><a href="#ğŸ˜‚webç«™ç‚¹çš„æ¬¢è¿ç•Œé¢" class="headerlink" title="ğŸ˜‚webç«™ç‚¹çš„æ¬¢è¿ç•Œé¢"></a>ğŸ˜‚webç«™ç‚¹çš„æ¬¢è¿ç•Œé¢</h1><p>å½“æˆ‘ä»¬è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:8080/servlet06%E6%97%B6%EF%BC%8C%E6%B2%A1%E6%9C%89%E5%88%B6%E5%AE%9A%E8%B5%84%E6%BA%90%E8%B7%AF%E5%BE%84%EF%BC%8C%E6%AD%A4%E6%97%B6%E5%B0%B1%E6%98%AF%E5%9C%A8%E8%AE%BF%E9%97%AE%E8%B5%84%E6%BA%90%E7%95%8C%E9%9D%A2">http://localhost:8080/servlet06æ—¶ï¼Œæ²¡æœ‰åˆ¶å®šèµ„æºè·¯å¾„ï¼Œæ­¤æ—¶å°±æ˜¯åœ¨è®¿é—®èµ„æºç•Œé¢</a></p>
<p>åœ¨webç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªwelcome.htmlæ–‡ä»¶ï¼Œservletç±»æ–‡ä»¶ä¹Ÿèƒ½ä½œä¸ºæ¬¢è¿é¡µ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--        æ³¨æ„ä¸èƒ½ä»¥æ–œæ å¼€å¤´--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>welcome.html<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å®Œæˆäº†æ¬¢è¿ç•Œé¢çš„é…ç½®</p>
<h1 id="ğŸ˜˜WEB-INFç›®å½•"><a href="#ğŸ˜˜WEB-INFç›®å½•" class="headerlink" title="ğŸ˜˜WEB-INFç›®å½•"></a>ğŸ˜˜WEB-INFç›®å½•</h1><p>æ”¾åœ¨WEB-INFç›®å½•ä¸‹çš„èµ„æºæ˜¯å—ä¿æŠ¤çš„ï¼Œåœ¨æµè§ˆå™¨æ˜¯ä¸èƒ½å¤Ÿé€šè¿‡è·¯å¾„ç›´æ¥è®¿é—®ã€‚æ‰€ä»¥åƒHTML\CSS\JS\imageç­‰é™æ€èµ„æºä¸€å®šè¦æ”¾åˆ°WEB-INFç›®å½•ä¹‹å¤–ã€‚</p>
<h1 id="ğŸ˜—HttpServletResquestæ¥å£"><a href="#ğŸ˜—HttpServletResquestæ¥å£" class="headerlink" title="ğŸ˜—HttpServletResquestæ¥å£"></a>ğŸ˜—HttpServletResquestæ¥å£</h1><p>requestå¯¹è±¡å’Œresponseå¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯è¯·æ±‚å¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯å“åº”å¯¹è±¡ã€‚è¿™ä¸¤ä¸ªå¯¹è±¡åªåœ¨å½“å‰è¯·æ±‚ä¸­æœ‰æ•ˆã€‚</p>
<p>HttpServletRequestæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•</p>
<ul>
<li><p>è·å–å‰ç«¯æµè§ˆå™¨ç”¨æˆ·æäº¤çš„æ•°æ®</p>
<ul>
<li><pre><code class="java">Map&lt;String, String[]&gt; getParmeterMap() è¿™ä¸ªæ˜¯è·å–Map
Enumeration&lt;String&gt; getParameterNames() è¿™ä¸ªæ˜¯è·å–Mapé›†åˆä¸­çš„æ‰€æœ‰key
String[] getParameterValues(String name) æ ¹æ®keyè·å–Mapé›†åˆçš„value
String getParameter(String name) è·å–valueè¿™ä¸ªä¸€ç»´æ•°ç»„å½“ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆå¸¸ç”¨ï¼‰
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line"></span><br><span class="line">- å¦‚ä½•å­˜å‚¨formè¡¨å•æäº¤çš„æ•°æ®ï¼ˆname=value&amp;name=value&amp;name=value&amp;name=valueï¼‰</span><br><span class="line"></span><br><span class="line">- é‡‡ç”¨Mapé›†åˆæ¥å­˜å‚¨</span><br><span class="line"></span><br><span class="line">  - ```java</span><br><span class="line">    Map&lt;String, String[]&gt;</span><br><span class="line">    	keyå­˜å‚¨String</span><br><span class="line">    	valueå­˜å‚¨String[]</span><br><span class="line">        key        value</span><br><span class="line">        ----------------</span><br><span class="line">        username   abc</span><br><span class="line">        userpwd    1234</span><br><span class="line">        aihao      &#123;&quot;a&quot;, &quot;b&quot;, &quot;c&quot;&#125;</span><br><span class="line">        æ³¨æ„åˆ°ä¸€ä¸ªé”®å¯èƒ½ä¼šå¯¹åº”å¤šä¸ªå€¼çš„æƒ…å†µï¼Œæ‰€ä»¥é‡‡å–ä¸Šé¢æ‰€ç¤ºçš„æ•°æ®ç»“æ„</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
<li><p>æ³¨æ„ï¼šå‰ç«¯æ°¸è¿œæäº¤çš„æ˜¯å­—ç¬¦ä¸²ï¼Œåç«¯è·å–çš„ä¹Ÿä¸€å®šæ˜¯å­—ç¬¦ä¸²ï¼Œå³æ•°å­—120å…¶å®æ˜¯â€120â€ã€‚</p>
</li>
<li><p>â€åº”ç”¨åŸŸâ€œServletContextå½“ä¸­æœ‰ä¸‰ä¸ªæ“ä½œåŸŸçš„æ–¹æ³•ï¼š</p>
</li>
<li><pre><code class="java">void setAttribute(String name, Object obj);//å‘åŸŸä¸­ç»‘å®šæ•°æ®
Object getAttribute(String name);//ä»åŸŸä¸­æ ¹æ®nameè·å–æ•°æ®
void removeAttribute(String name);//å°†åŸŸå½“ä¸­ç»‘å®šçš„æ•°æ®ç§»é™¤

//ä»¥ä¸Šæ“ä½œç±»ä¼¼Mapé›†åˆçš„æ“ä½œ
Map&lt;String, Object&gt; map;
map.put(&quot;name&quot;, obj);//å‘mapé›†åˆä¸­æ·»åŠ keyå’Œvalue
Object obj = map.get(&quot;name&quot;);//é€šè¿‡keyè·å–value
map.remove(&quot;name&quot;);//é€šè¿‡keyåˆ é™¤keyå’Œvalueè¿™ä¸ªé”®å€¼å¯¹
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- â€œè¯·æ±‚åŸŸâ€å¯¹è±¡</span><br><span class="line"></span><br><span class="line">  - â€œè¯·æ±‚åŸŸâ€å¯¹è±¡è¦æ¯”â€œåº”ç”¨åŸŸâ€œå¯¹è±¡èŒƒå›´å°å¾ˆå¤šï¼Œç”Ÿå‘½å‘¨æœŸä¹ŸçŸ­å¾ˆå¤šï¼Œè¯·æ±‚åŸŸåªåœ¨ä¸€æ¬¡è¯·æ±‚å†…æœ‰æ•ˆã€‚</span><br><span class="line">  - ä¸€ä¸ªè¯·æ±‚å¯¹è±¡requestå¯¹åº”ä¸€ä¸ªè¯·æ±‚åŸŸå¯¹è±¡ï¼Œä¸€æ¬¡è¯·æ±‚ä¹‹åå°±è¢«é”€æ¯äº†</span><br><span class="line">  - è¯·æ±‚åŸŸå¯¹è±¡ä¹Ÿæœ‰è¿™ä¸‰ä¸ªæ–¹æ³•</span><br><span class="line"></span><br><span class="line">- ```java</span><br><span class="line">  void setAttribute(String name, Object obj);//å‘åŸŸä¸­ç»‘å®šæ•°æ®</span><br><span class="line">  Object getAttribute(String name);//ä»åŸŸä¸­æ ¹æ®nameè·å–æ•°æ®</span><br><span class="line">  void removeAttribute(String name);//å°†åŸŸå½“ä¸­ç»‘å®šçš„æ•°æ®ç§»é™¤</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>è¯·æ±‚è½¬å‘æ–¹æ³•</p>
<ul>
<li><pre><code class="java">//ä»¥è½¬å‘htmlä¸ºä¾‹
req.getRequestDispatcher(&quot;/test.html&quot;).forward(req, resp);
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">- å…³äºrequestå¯¹è±¡ä¸­ä¸¤ä¸ªéå¸¸å®¹æ˜“æ··æ·†çš„æ–¹æ³•ï¼š</span><br><span class="line"></span><br><span class="line">  - ```java</span><br><span class="line">    //Paramterç¿»è¯‘ä¸ºï¼šå‚æ•°</span><br><span class="line">    //uri?username=zhangsan&amp;userpwd=123456</span><br><span class="line">    String username = request.getParamter(&quot;username&quot;);</span><br><span class="line">    </span><br><span class="line">    //Attributeç¿»è¯‘ä¸ºï¼šå±æ€§</span><br><span class="line">    //ä¹‹å‰æ˜¯æ‰§è¡Œäº†request.setAttribute(&quot;name&quot;, new Object())</span><br><span class="line">    Object obj = request.getAttribute(&quot;name&quot;);</span><br><span class="line">    </span><br><span class="line">    //ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•çš„åŒºåˆ«</span><br><span class="line">    //ç¬¬ä¸€ä¸ªæ–¹æ³•è·å–çš„æ˜¯ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸Šæäº¤çš„æ•°æ®</span><br><span class="line">    //ç¬¬äºŒä¸ªæ–¹æ³•è·å–çš„æ˜¯åœ¨è¯·æ±‚åŸŸä¸­ç»‘å®šçš„æ•°æ®</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
<li><p>å…¶ä»–æ–¹æ³•</p>
<ul>
<li><pre><code class="java">//è·å–å®¢æˆ·ç«¯çš„IPåœ°å€
String remoteAddr = req.getRemoteAddr();

//getè¯·æ±‚åœ¨è¯·æ±‚è¡Œä¸Šæäº¤æ•°æ®
//postè¯·æ±‚åœ¨è¯·æ±‚ä½“ä¸­æäº¤æ•°æ®
//è®¾ç½®è¯·æ±‚ä½“çš„å­—ç¬¦é›†ï¼ˆæ˜¾ç„¶è¿™ä¸ªæ˜¯é’ˆå¯¹postè¯·æ±‚ä¹±ç é—®é¢˜ï¼Œè§£å†³ä¸äº†getè¯·æ±‚çš„ä¹±ç é—®é¢˜ï¼‰
//è¿™ä¸ªä¹±ç é—®é¢˜åœ¨tomcat10ä¹‹åï¼Œrequestè¯·æ±‚ä½“å½“ä¸­çš„å­—ç¬¦é›†ç¼–ç é»˜è®¤å°±æ˜¯utf-8äº†ï¼Œæ‰€ä»¥ä¸ç”¨å†è®¾ç½®
request.setCharacterEncoding(&quot;UTF-8&quot;);
//è§£å†³tomcat10ç‰ˆæœ¬ä¹‹å‰çš„å“åº”ä¸­ï¼Œä¸­æ–‡ä¹±ç é—®é¢˜
resp.setContentType(&quot;text/html;charset=UTF-8&quot;);

//å¤„ç†getè¯·æ±‚ä¹±ç é—®é¢˜
//ä¸ä¼šä¹±ç ï¼Œå› ä¸ºURIEncodingé»˜è®¤å°±æ˜¯UTF-8ï¼ˆtomcat8ä¹‹å‰è¿˜æ˜¯ä¼šä¹±ç ï¼‰
//è§£å†³åŠæ³•ï¼šä¿®æ”¹CATALINA_HOME/conf/server.xmlæ–‡ä»¶
&lt;Connector URIEncoding = &quot;UTF-8&quot;/&gt;

//è·å–åº”ç”¨çš„æ ¹è·¯å¾„
String contextPath = request.getContextPath();

//è·å–è¯·æ±‚æ–¹å¼
String method = req.getMethod();

//è·å–è¯·æ±‚çš„uri
String requestURI = req.getRequestURI();

//è·å–servlet path
String servletPath = req.getServletPath();
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line"></span><br><span class="line"># ğŸ¤—ä½¿ç”¨çº¯Servletåšä¸€ä¸ªå•è¡¨çš„CRUDæ“ä½œ</span><br><span class="line"></span><br><span class="line">- å¯¹éƒ¨é—¨çš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼ˆB/Sç»“æ„ï¼‰</span><br><span class="line"></span><br><span class="line">- æ­¥éª¤</span><br><span class="line"></span><br><span class="line">  - ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä¸€å¼ æ•°æ®åº“è¡¨</span><br><span class="line"></span><br><span class="line">    - ```sql</span><br><span class="line">      #éƒ¨é—¨è¡¨</span><br><span class="line">      drop table if exists dept;</span><br><span class="line">      create table dept(</span><br><span class="line">          deptno int primary key,</span><br><span class="line">          dname varchar(255),</span><br><span class="line">          loc varchar(255)</span><br><span class="line">      );</span><br><span class="line">      insert into dept(deptno, dname, loc) values(10,&#x27;é”€å”®éƒ¨&#x27;,&#x27;åŒ—äº¬&#x27;);</span><br><span class="line">      insert into dept(deptno, dname, loc) values(20,&#x27;ç ”å‘éƒ¨&#x27;,&#x27;ä¸Šæµ·&#x27;);</span><br><span class="line">      insert into dept(deptno, dname, loc) values(30,&#x27;æŠ€æœ¯éƒ¨&#x27;,&#x27;å¹¿å·&#x27;);</span><br><span class="line">      insert into dept(deptno, dname, loc) values(40,&#x27;åª’ä½“éƒ¨&#x27;,&#x27;æ·±åœ³&#x27;);</span><br><span class="line">      commit;</span><br><span class="line">      select * from dept;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>ç¬¬äºŒæ­¥ï¼šå‡†å¤‡ä¸€å¥—HTMLé¡µé¢ï¼ˆé¡¹ç›®åŸå‹ï¼‰</p>
<ul>
<li>æ¬¢è¿ç•Œé¢ï¼šindext.html</li>
<li>åˆ—è¡¨ç•Œé¢ï¼šlist.html(ä»¥æ­¤ç•Œé¢ä¸ºæ ¸å¿ƒï¼Œå±•å¼€å…¶ä»–æ“ä½œ)</li>
<li>æ–°å¢ç•Œé¢ï¼šadd.html</li>
<li>ä¿®æ”¹ç•Œé¢ï¼šedit.html</li>
<li>è¯¦æƒ…ç•Œé¢ï¼šdetail.html</li>
</ul>
</li>
<li><p>ç¬¬ä¸‰æ­¥ï¼šåˆ†æç³»ç»Ÿä¸­åŒ…å«çš„åŠŸèƒ½</p>
<ul>
<li>åŠŸèƒ½ï¼šåªè¦æ“ä½œè¿æ¥äº†æ•°æ®åº“ï¼Œå°±è¡¨ç¤ºä¸€ä¸ªç‹¬ç«‹çš„åŠŸèƒ½ã€‚</li>
<li>åŒ…å«çš„åŠŸèƒ½ï¼š<ul>
<li>æŸ¥çœ‹éƒ¨é—¨åˆ—è¡¨</li>
<li>æ–°å¢éƒ¨é—¨</li>
<li>åˆ é™¤éƒ¨é—¨</li>
<li>æŸ¥çœ‹éƒ¨é—¨è¯¦ç»†ä¿¡æ¯</li>
<li>è·³è½¬åˆ°ä¿®æ”¹ç•Œé¢</li>
<li>ä¿®æ”¹éƒ¨é—¨</li>
</ul>
</li>
</ul>
</li>
<li><p>ç¬¬å››æ­¥ï¼šåœ¨IDEAä¸­æ­å»ºå¼€å‘ç¯å¢ƒ</p>
<ul>
<li>åŸºæœ¬çš„ç¯å¢ƒé…ç½®</li>
<li>æŠŠhtmlæ–‡ä»¶æ”¾åˆ°webç›®å½•ä¸‹</li>
</ul>
</li>
<li><p>ç¬¬äº”æ­¥ï¼šå®ç°åŠŸèƒ½ï¼ˆæŸ¥çœ‹éƒ¨é—¨åˆ—è¡¨ï¼‰</p>
<ul>
<li>å†™ä»£ç çš„è¿‡ç¨‹åº”è¯¥æ˜¯ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹</li>
<li>åˆ†ælistç•Œé¢ä¸­å“ªéƒ¨åˆ†æ˜¯é™æ€çš„ä»¥åŠå“ªéƒ¨åˆ†æ˜¯åŠ¨æ€çš„</li>
<li>ä¸ºäº†é¿å…å†²çªï¼Œhtmlç•Œé¢ä¸­çš„åŒå¼•å·æ›¿æ¢ä¸ºå•å¼•å·ï¼ˆç”¨è®°äº‹æœ¬å³å¯ï¼‰</li>
</ul>
</li>
<li><p>ç¬¬å…­æ­¥ï¼šæ¥ä¸‹æ¥å°±æ˜¯é€æ­¥å®ç°æ¯ä¸ªåŠŸèƒ½ï¼ˆè¿™é‡Œä»…æ”¾ä¸€äº›é‡è¦çš„ä»£ç ï¼‰</p>
<ul>
<li><p>DBUtil æ•°æ®åº“è¿æ¥å·¥å…·ç±»</p>
</li>
<li><pre><code class="java">package com.niu.oa.utils;

import java.sql.*;
import java.util.ResourceBundle;

/*
JDBCå·¥å…·ç±»
 */
public class DBUtil &#123;

    //é™æ€å˜é‡ï¼šåœ¨ç±»åŠ è½½æ—¶æ‰§è¡Œ
    //å¹¶ä¸”æ˜¯è‡ªä¸Šè€Œä¸‹çš„é¡ºåº
    private static ResourceBundle bundle = ResourceBundle.getBundle(&quot;resources.jdbc&quot;);
    private static String driver = bundle.getString(&quot;driver&quot;);
    private static String url = bundle.getString(&quot;url&quot;);
    private static String user = bundle.getString(&quot;user&quot;);
    private static String password = bundle.getString(&quot;password&quot;);

    static &#123;
        //æ³¨å†Œé©±åŠ¨ï¼ˆæ³¨å†Œé©±åŠ¨åªéœ€è¦æ³¨å†Œä¸€æ¬¡ï¼Œæ”¾åœ¨é™æ€ä»£ç å—å½“ä¸­ã€‚DBUtilç±»åŠ è½½çš„æ—¶å€™æ‰§è¡Œï¼‰
        try &#123;
            //&quot;com.mysql.cj.jdbc.Driver&quot;æ˜¯é“¾æ¥æ•°æ®åº“çš„é©±åŠ¨ï¼Œä¸èƒ½å†™æ­»ã€‚å› ä¸ºä»¥åå¯èƒ½è¿˜ä¼šé“¾æ¥Oracleæ•°æ®åº“
            //å¦‚æœé“¾æ¥oracleæ•°æ®åº“çš„æ—¶å€™ï¼Œè¿˜éœ€è¦ä¿®æ”¹javaä»£ç ï¼Œè¿èƒŒäº†OCPå¼€é—­åŸåˆ™
            //OCPå¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
            Class.forName(driver);
        &#125; catch (ClassNotFoundException e)&#123;
            e.printStackTrace();
        &#125;
    &#125;

    /**
     * è·å–é“¾æ¥å¯¹è±¡
     * @return Connectioné“¾æ¥å¯¹è±¡
     * @throws SQLException
     */
    public static Connection getConnection() throws SQLException &#123;
        //è·å–é“¾æ¥
        return DriverManager.getConnection(url, user, password);
    &#125;

    /**
     * é‡Šæ”¾èµ„æº
     * @param conn è¿æ¥å¯¹è±¡
     * @param ps æ•°æ®åº“æ“ä½œå¯¹è±¡
     * @param rs ç»“æœé›†å¯¹è±¡
     */
    public static void close(Connection conn, Statement ps, ResultSet rs)&#123;
        if (rs!=null)&#123;
            try &#123;
                rs.close();
            &#125; catch (SQLException e) &#123;
                e.printStackTrace();
            &#125;
        &#125;
        if (ps!=null)&#123;
            try &#123;
                ps.close();
            &#125; catch (SQLException e) &#123;
                e.printStackTrace();
            &#125;
        &#125;
        if (conn!=null)&#123;
            try &#123;
                conn.close();
            &#125; catch (SQLException e) &#123;
                e.printStackTrace();
            &#125;
        &#125;
    &#125;
&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">- jdbc.propertiesé…ç½®æ–‡ä»¶</span><br><span class="line">  </span><br><span class="line">- ```properties</span><br><span class="line">  driver = com.mysql.cj.jdbc.Driver</span><br><span class="line">  url = jdbc:mysql://localhost:3306/bjpowernode</span><br><span class="line">  user = root</span><br><span class="line">  password = 123456</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>ä¸‰æ®µå¿…å¤‡ä»£ç </p>
</li>
<li><pre><code class="java">resp.setContentType(&quot;text/html&quot;);
PrintWriter out = resp.getWriter();
String contextPath = req.getContextPath();
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">- è¯·æ±‚å’Œè½¬å‘/é‡å®šå‘</span><br><span class="line">  </span><br><span class="line">- ```java</span><br><span class="line">  req.getRequestDispatcher(&quot;/dept/list&quot;).forward(req, resp);</span><br><span class="line">  resp.sendRedirect(&quot;&quot;+contextPath+&quot;/dept/list&quot;);</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="ğŸ¤”å°†OAé¡¹ç›®ä¸­çš„èµ„æºè·³è½¬ä¿®æ”¹ä¸ºåˆé€‚çš„è·³è½¬æ–¹å¼"><a href="#ğŸ¤”å°†OAé¡¹ç›®ä¸­çš„èµ„æºè·³è½¬ä¿®æ”¹ä¸ºåˆé€‚çš„è·³è½¬æ–¹å¼" class="headerlink" title="ğŸ¤”å°†OAé¡¹ç›®ä¸­çš„èµ„æºè·³è½¬ä¿®æ”¹ä¸ºåˆé€‚çš„è·³è½¬æ–¹å¼"></a>ğŸ¤”å°†OAé¡¹ç›®ä¸­çš„èµ„æºè·³è½¬ä¿®æ”¹ä¸ºåˆé€‚çš„è·³è½¬æ–¹å¼</h1><p>é‡å®šå‘ï¼ˆRedirectï¼‰å’Œè½¬å‘ï¼ˆForwardï¼‰æ˜¯ä¸¤ç§å¸¸ç”¨çš„é¡µé¢è·³è½¬æ–¹å¼ï¼Œå®ƒä»¬æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š</p>
<ul>
<li><p>è¯·æ±‚å¯¹è±¡ï¼šé‡å®šå‘æ˜¯ä¸¤æ¬¡è¯·æ±‚-å“åº”è¿‡ç¨‹ï¼Œè€Œè½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚-å“åº”è¿‡ç¨‹ã€‚</p>
</li>
<li><p>æµè§ˆå™¨åœ°å€æ ï¼šé‡å®šå‘ä¼šæ”¹å˜æµè§ˆå™¨çš„åœ°å€æ ï¼Œè€Œè½¬å‘ä¸ä¼šæ”¹å˜æµè§ˆå™¨çš„åœ°å€æ ã€‚</p>
</li>
<li><p>æ‰§è¡Œä½ç½®ï¼šé‡å®šå‘æ˜¯åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸­å®Œæˆçš„ï¼Œè€Œè½¬å‘æ˜¯åœ¨æœåŠ¡å™¨ç«¯å®Œæˆçš„ã€‚</p>
</li>
<li><p>æ•°æ®ä¼ é€’ï¼šé‡å®šå‘ä¸èƒ½ç›´æ¥ä¼ é€’æ•°æ®ï¼Œéœ€è¦é€šè¿‡URLå‚æ•°ã€Sessionæˆ–Cookieç­‰è¿›è¡Œä¼ é€’ï¼›è€Œè½¬å‘å¯ä»¥é€šè¿‡Requestå¯¹è±¡çš„å±æ€§ã€è¯·æ±‚è½¬å‘å™¨ç­‰ç›´æ¥ä¼ é€’æ•°æ®ã€‚</p>
</li>
<li><p>è·³è½¬èŒƒå›´ï¼šé‡å®šå‘å¯ä»¥è·³è½¬åˆ°ä»»ä½•URLï¼Œå¯ä»¥æ˜¯åŒä¸€åº”ç”¨ç¨‹åºå†…çš„URLï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–åº”ç”¨ç¨‹åºçš„URLï¼›è€Œè½¬å‘åªèƒ½åœ¨å½“å‰åº”ç”¨ç¨‹åºå†…éƒ¨è¿›è¡Œé¡µé¢è·³è½¬ã€‚</p>
</li>
<li><p>æ€§èƒ½å¼€é”€ï¼šç”±äºé‡å®šå‘æ˜¯ä¸¤æ¬¡è¯·æ±‚-å“åº”è¿‡ç¨‹ï¼Œç›¸å¯¹äºè½¬å‘æ¥è¯´ï¼Œå®ƒéœ€è¦æ›´å¤šçš„ç½‘ç»œå¼€é”€å’Œæ—¶é—´å¼€é”€ã€‚</p>
</li>
</ul>
<p>åˆ é™¤ä¹‹åï¼Œé‡å®šå‘ï¼ˆä¸€èˆ¬éƒ½ç”¨è¿™ä¸ªï¼‰</p>
<p>ä¿®æ”¹ä¹‹åï¼Œé‡å®šå‘</p>
<p>ä¿å­˜ä¹‹åï¼Œé‡å®šå‘</p>
<p>é‡å®šå‘ï¼šæˆåŠŸç•Œé¢&#x2F;å¤±è´¥ç•Œé¢</p>
<h1 id="ğŸ¤”Servletæ³¨è§£ç®€åŒ–å¼€å‘"><a href="#ğŸ¤”Servletæ³¨è§£ç®€åŒ–å¼€å‘" class="headerlink" title="ğŸ¤”Servletæ³¨è§£ç®€åŒ–å¼€å‘"></a>ğŸ¤”Servletæ³¨è§£ç®€åŒ–å¼€å‘</h1><p>ä¸éœ€è¦ç¼–å†™å¤§é‡çš„xmlé…ç½®ä¿¡æ¯ï¼Œç›´æ¥åœ¨javaç±»ä¸Šæ ‡æ³¨å³å¯ã€‚@WebServlet</p>
<p>è¿™å¹¶ä¸æ˜¯è¯´è¦æŠ›å¼ƒxmlæ–‡ä»¶ï¼Œä¸€äº›åæœŸéœ€è¦æ”¹åŠ¨çš„é…ç½®ä¿¡æ¯ï¼Œè¿˜æ˜¯è¦å†™åœ¨xmlæ–‡ä»¶å½“ä¸­çš„ã€‚</p>
<p>@WebServletæ³¨è§£å…·æœ‰çš„å±æ€§</p>
<ul>
<li><strong>nameå±æ€§</strong>ï¼Œç”¨æ¥æŒ‡å®šServletçš„åå­—ï¼Œç›¸å½“äº<servlet-name></li>
<li><strong>urlPatternså±æ€§</strong>ï¼Œç”¨æ¥æŒ‡å®šServletçš„æ˜ å°„è·¯å¾„ï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªå­—ç¬¦ä¸²<url-pattern></li>
<li>loadOnStartUpå±æ€§ï¼Œç”¨æ¥æŒ‡å®šåœ¨æœåŠ¡å™¨å¯åŠ¨é˜¶æ®µæ˜¯å¦åŠ è½½è¯¥Servletå¯¹è±¡ï¼Œç­‰åŒäº<load-on-startup></li>
<li>valueå±æ€§ï¼Œå½“æ³¨è§£çš„å±æ€§åæ˜¯valueæ—¶ï¼Œvalueçš„å±æ€§åæ˜¯å¯ä»¥çœç•¥çš„ã€‚</li>
</ul>
<p>æ³¨è§£å¯¹è±¡çš„ä½¿ç”¨æ ¼å¼ï¼š</p>
<ul>
<li>@æ³¨è§£åç§°(å±æ€§å&#x3D;å±æ€§å€¼,å±æ€§å&#x3D;å±æ€§å€¼,å±æ€§å&#x3D;å±æ€§å€¼â€¦)</li>
</ul>
<h1 id="ğŸ˜€ä½¿ç”¨æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ä¼˜åŒ–oaé¡¹ç›®"><a href="#ğŸ˜€ä½¿ç”¨æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ä¼˜åŒ–oaé¡¹ç›®" class="headerlink" title="ğŸ˜€ä½¿ç”¨æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ä¼˜åŒ–oaé¡¹ç›®"></a>ğŸ˜€ä½¿ç”¨æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ä¼˜åŒ–oaé¡¹ç›®</h1><p>ä¹‹å‰çš„è®¾è®¡æ˜¯1ä¸ªè¯·æ±‚å¯¹åº”1ä¸ªServletç±»ï¼Œå¯¼è‡´ç±»çˆ†ç‚¸</p>
<p>ç°åœ¨å¯ä»¥ä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªä¸šåŠ¡å¯¹åº”ä¸€ä¸ªServletç±»</p>
<p>åªå†™ä¸€ä¸ªservletç±»ä»£ç ï¼Œç„¶åé€šè¿‡ifè¯­å¥åˆ¤æ–­è¯·æ±‚è·¯å¾„å³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.niu.oa.web.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.niu.oa.utils.DBUtil;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ¨¡æ¿ç±»</span></span><br><span class="line"><span class="meta">@WebServlet(&#123;&quot;/dept/list&quot;, &quot;/dept/save&quot;, &quot;/dept/edit&quot;, &quot;/dept/detail&quot;, &quot;/dept/delete&quot;, &quot;/dept/modify&quot; &#125;)</span></span><br><span class="line"><span class="comment">//ä¹Ÿå¯ä»¥æ¨¡ç³ŠåŒ¹é…ï¼ˆç›®å‰è¿™ä¸ªæœ‰é—®é¢˜ï¼‰</span></span><br><span class="line"><span class="comment">//@WebServlet(&quot;/dept/*&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="comment">//æ¨¡æ¿æ–¹æ³•</span></span><br><span class="line">    <span class="comment">//é‡å†™serviceæ–¹æ³•</span></span><br><span class="line">    <span class="comment">//ctrl+oå¿«æ·é‡å†™</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¯ä»¥é‡å†™doGetå’ŒdoPostæ–¹æ³•ï¼Œä½†é‚£æ ·åˆè¦äº’ç›¸è°ƒç”¨ï¼Œä»–ä¿©çš„ä¸Šå±‚æ–¹æ³•å°±æ˜¯serviceæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//è·å–servlet path</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">servletPath</span> <span class="operator">=</span> req.getServletPath();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;/dept/list&quot;</span>.equals(servletPath))&#123;</span><br><span class="line">            doList(req, resp);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;/dept/save&quot;</span>.equals(servletPath))&#123;</span><br><span class="line">            doSave(req, resp);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;/dept/edit&quot;</span>.equals(servletPath))&#123;</span><br><span class="line">            doEdit(req, resp);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;/dept/detail&quot;</span>.equals(servletPath))&#123;</span><br><span class="line">            doDetail(req, resp);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;/dept/delete&quot;</span>.equals(servletPath))&#123;</span><br><span class="line">            doDel(req, resp);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;/dept/modify&quot;</span>.equals(servletPath))&#123;</span><br><span class="line">            doModify(req,resp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doList</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        <span class="type">String</span> <span class="variable">contextPath</span> <span class="operator">=</span> req.getContextPath();</span><br><span class="line"></span><br><span class="line">        out.print(<span class="string">&quot;&lt;!DOCTYPE html&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;html lang=&#x27;en&#x27;&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;head&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;    &lt;meta charset=&#x27;UTF-8&#x27;&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;    &lt;title&gt;éƒ¨é—¨åˆ—è¡¨é¡µé¢&lt;/title&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        out.print(<span class="string">&quot;&lt;script type=&#x27;text/javascript&#x27;&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;function del(dno)&#123;&quot;</span>);</span><br><span class="line">        <span class="comment">//ä½œç”¨ï¼šå¼¹å‡ºç¡®è®¤æ¡†ï¼Œç‚¹å‡»ç¡®å®šè¿”å›trueï¼Œç‚¹å‡»å–æ¶ˆè¿”å›false(å³æ— äº‹å‘ç”Ÿ)</span></span><br><span class="line">        out.print(<span class="string">&quot;if (window.confirm(&#x27;æ³¨æ„ï¼Œåˆ é™¤åä¸å¯æ¢å¤ï¼&#x27;))&#123;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;document.location.href = &#x27;&quot;</span>+contextPath+<span class="string">&quot;/dept/delete?deptno=&#x27; + dno&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        out.print(<span class="string">&quot;&lt;/script&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/head&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;body&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;    &lt;h1 align=&#x27;center&#x27;&gt;éƒ¨é—¨åˆ—è¡¨&lt;/h1&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;    &lt;hr&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;    &lt;table border=&#x27;1px&#x27; align=&#x27;center&#x27; width=&#x27;50%&#x27;&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;        &lt;tr&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;            &lt;th&gt;åºå·&lt;/th&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;            &lt;th&gt;éƒ¨é—¨ç¼–å·&lt;/th&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;            &lt;th&gt;éƒ¨é—¨åç§°&lt;/th&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;            &lt;th&gt;æ“ä½œ&lt;/th&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;        &lt;/tr&gt;&quot;</span>);</span><br><span class="line">        <span class="comment">//ä¸Šé¢ä¸€éƒ¨åˆ†æ˜¯æ­»çš„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¿æ¥æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = DBUtil.getConnection();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select deptno,dname,loc from dept&quot;</span>;</span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            rs = ps.executeQuery();</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">deptno</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;deptno&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">dname</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;dname&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">loc</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;loc&quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//è¿™éƒ¨åˆ†æ˜¯æ´»çš„</span></span><br><span class="line">                out.print(<span class="string">&quot;        &lt;tr&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;            &lt;td&gt;&quot;</span>+(++i)+<span class="string">&quot;&lt;/td&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;            &lt;td&gt;&quot;</span>+deptno+<span class="string">&quot;&lt;/td&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;            &lt;td&gt;&quot;</span>+dname+<span class="string">&quot;&lt;/td&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;            &lt;td&gt;&quot;</span>);</span><br><span class="line">                <span class="comment">//è°ƒç”¨jså‡½æ•°ï¼Œå‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">                out.print(<span class="string">&quot;                &lt;a href=&#x27;javascript:void(0)&#x27; onclick=&#x27;del(&quot;</span>+deptno+<span class="string">&quot;)&#x27;&gt;åˆ é™¤&lt;/a&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;                &lt;a href=&#x27;&quot;</span>+contextPath+<span class="string">&quot;/dept/edit?deptno=&quot;</span>+deptno+<span class="string">&quot;&#x27;&gt;ä¿®æ”¹&lt;/a&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;                &lt;a href=&#x27;&quot;</span>+contextPath+<span class="string">&quot;/dept/detail?deptno=&quot;</span>+deptno+<span class="string">&quot;&#x27;&gt;è¯¦æƒ…&lt;/a&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;            &lt;/td&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;        &lt;/tr&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtil.close(conn, ps, rs);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸‹é¢ä¸€éƒ¨åˆ†æ˜¯æ­»çš„</span></span><br><span class="line">        out.print(<span class="string">&quot;&lt;/table&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;hr&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;h2 align=&#x27;center&#x27;&gt;&lt;a href=&#x27;&quot;</span>+contextPath+<span class="string">&quot;/add.html&#x27;&gt;æ–°å¢éƒ¨é—¨&lt;/a&gt;&lt;/h2&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/body&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/html&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doSave</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">contextPath</span> <span class="operator">=</span> req.getContextPath();</span><br><span class="line">        <span class="comment">//è·å–éƒ¨é—¨ä¿¡æ¯</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">deptno</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;deptno&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">dname</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;dname&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">loc</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;loc&quot;</span>);</span><br><span class="line">        <span class="comment">//é“¾æ¥æ•°æ®åº“</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = DBUtil.getConnection();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into dept(deptno, dname, loc) values (?, ?, ?) &quot;</span>;</span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            ps.setString(<span class="number">1</span>, deptno);</span><br><span class="line">            ps.setString(<span class="number">2</span>, dname);</span><br><span class="line">            ps.setString(<span class="number">3</span>, loc);</span><br><span class="line">            count = ps.executeUpdate();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtil.close(conn, ps, <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¿å­˜æˆåŠŸè·³è½¬åˆ°åˆ—è¡¨ç•Œé¢</span></span><br><span class="line">        <span class="keyword">if</span> (count == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//åˆ é™¤æˆåŠŸ(å›åˆ°éƒ¨é—¨åˆ—è¡¨ç•Œé¢ï¼Œéœ€è¦æ‰§è¡Œå¦ä¸€ä¸ªç•Œé¢ï¼Œä½¿ç”¨è½¬å‘æœºåˆ¶)</span></span><br><span class="line">            <span class="comment">//req.getRequestDispatcher(&quot;/dept/list&quot;).forward(req, resp);</span></span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;&quot;</span>+contextPath+<span class="string">&quot;/dept/list&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//åˆ é™¤å¤±è´¥</span></span><br><span class="line">            <span class="comment">//req.getRequestDispatcher(&quot;/error.html&quot;).forward(req, resp);</span></span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;&quot;</span>+contextPath+<span class="string">&quot;/error.html&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¿å­˜å¤±è´¥ï¼Œè·³è½¬åˆ°é”™è¯¯ç•Œé¢</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doEdit</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        <span class="comment">//è·³è½¬åˆ°ä¿®æ”¹ç•Œé¢</span></span><br><span class="line">        out.print(<span class="string">&quot;&lt;!DOCTYPE html&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;html lang=&#x27;en&#x27;&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;head&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;    &lt;meta charset=&#x27;UTF-8&#x27;&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;    &lt;title&gt;ä¿®æ”¹éƒ¨é—¨&lt;/title&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/head&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;body&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;h1 align=&#x27;center&#x27;&gt;ä¿®æ”¹éƒ¨é—¨&lt;/h1&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;hr&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;div align=&#x27;center&#x27;&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–éƒ¨é—¨ç¼–å·</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">deptno</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;deptno&quot;</span>);</span><br><span class="line">        <span class="comment">//é“¾æ¥æ•°æ®åº“ï¼Œæ ¹æ®éƒ¨é—¨ç¼–å·æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = DBUtil.getConnection();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select dname, loc from dept where deptno = ?&quot;</span>;</span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            ps.setString(<span class="number">1</span>, deptno);</span><br><span class="line">            rs = ps.executeQuery();</span><br><span class="line">            <span class="comment">//è¿™ä¸ªç»“æœä¸­åªæœ‰ä¸€æ¡è®°å½•</span></span><br><span class="line">            <span class="keyword">if</span> (rs.next())&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">dname</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;dname&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">loc</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;loc&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;&lt;form action=&#x27;/oa/dept/modify&#x27; method=&#x27;post&#x27;&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;éƒ¨é—¨ç¼–å·&lt;input type=&#x27;text&#x27; name=&#x27;deptno&#x27; value=&#x27;&quot;</span>+deptno+<span class="string">&quot;&#x27; readonly/&gt;&lt;br&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;éƒ¨é—¨åç§°&lt;input type=&#x27;text&#x27; name=&#x27;dname&#x27; value=&#x27;&quot;</span>+dname+<span class="string">&quot;&#x27;/&gt;&lt;br&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;éƒ¨é—¨ä½ç½®&lt;input type=&#x27;text&#x27; name=&#x27;loc&#x27; value=&#x27;&quot;</span>+loc+<span class="string">&quot;&#x27;/&gt;&lt;br&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtil.close(conn, ps, rs);</span><br><span class="line">        &#125;</span><br><span class="line">        out.print(<span class="string">&quot;&lt;input type=&#x27;submit&#x27; value=&#x27;ä¿®æ”¹&#x27;/&gt;&lt;br&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/form&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/div&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/body&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/html&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doDetail</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        req.getServletPath();</span><br><span class="line"></span><br><span class="line">        out.print(<span class="string">&quot;&lt;!DOCTYPE html&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;html lang=&#x27;en&#x27;&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;head&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;meta charset=&#x27;UTF-8&#x27;&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;title&gt;éƒ¨é—¨è¯¦æƒ…&lt;/title&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/head&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;body&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;h1 align=&#x27;center&#x27;&gt;éƒ¨é—¨è¯¦æƒ…&lt;/h1&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;hr&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;div align=&#x27;center&#x27;&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–éƒ¨é—¨ç¼–å·</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">deptno</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;deptno&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é“¾æ¥æ•°æ®åº“</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = DBUtil.getConnection();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select dname,loc from dept where deptno = ?&quot;</span>;</span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            ps.setString(<span class="number">1</span>, deptno);</span><br><span class="line">            rs = ps.executeQuery();</span><br><span class="line">            <span class="comment">//è¿™ä¸ªç»“æœé›†åªæœ‰ä¸€æ¡è®°å½•</span></span><br><span class="line">            <span class="keyword">if</span>(rs.next())&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">dname</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;dname&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">loc</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;loc&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;éƒ¨é—¨ç¼–å·:&quot;</span>+deptno+<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;éƒ¨é—¨åç§°:&quot;</span>+dname+<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">                out.print(<span class="string">&quot;éƒ¨é—¨ä½ç½®:&quot;</span>+loc+<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtil.close(conn, ps, rs);</span><br><span class="line">        &#125;</span><br><span class="line">        out.print(<span class="string">&quot;  &lt;input type=&#x27;button&#x27; value=&#x27;åé€€&#x27; onclick=&#x27;window.history.back()&#x27;/&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/div&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/body&gt;&quot;</span>);</span><br><span class="line">        out.print(<span class="string">&quot;&lt;/html&gt;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doDel</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">contextPath</span> <span class="operator">=</span> req.getContextPath();</span><br><span class="line">        <span class="comment">//æ ¹æ®éƒ¨é—¨ç¼–å·åˆ é™¤éƒ¨é—¨</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">deptno</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;deptno&quot;</span>);</span><br><span class="line">        <span class="comment">//è¿æ¥æ•°æ®åº“</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = DBUtil.getConnection();</span><br><span class="line">            <span class="comment">//å¼€å¯äº‹ç‰©(è‡ªåŠ¨æäº¤æœºåˆ¶å…³é—­)(åŒæ—¶æˆåŠŸæˆ–è€…åŒæ—¶å¤±è´¥)(ç›®å‰ç”¨ä¸åˆ°)</span></span><br><span class="line">            conn.setAutoCommit(<span class="literal">false</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;delete from dept where deptno = ?&quot;</span>;</span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            ps.setString(<span class="number">1</span>, deptno);</span><br><span class="line">            count = ps.executeUpdate();</span><br><span class="line">            <span class="comment">//äº‹ç‰©æäº¤</span></span><br><span class="line">            conn.commit();</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            <span class="comment">//é‡åˆ°å¼‚å¸¸å°±å›æ»š</span></span><br><span class="line">            <span class="keyword">if</span> (conn != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    conn.rollback();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtil.close(conn, ps, <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ¤æ–­æ˜¯å¦åˆ é™¤æˆåŠŸ</span></span><br><span class="line">        <span class="keyword">if</span> (count == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//åˆ é™¤æˆåŠŸ(å›åˆ°éƒ¨é—¨åˆ—è¡¨ç•Œé¢ï¼Œéœ€è¦æ‰§è¡Œå¦ä¸€ä¸ªç•Œé¢ï¼Œä½¿ç”¨è½¬å‘æœºåˆ¶)</span></span><br><span class="line">            <span class="comment">//req.getRequestDispatcher(&quot;/dept/list&quot;).forward(req, resp);</span></span><br><span class="line">            <span class="comment">//ä½¿ç”¨é‡å®šå‘æ›´åˆé€‚ï¼Œä¸¤æ¬¡è¯·æ±‚è€Œä¸æ˜¯ä¸€æ¬¡</span></span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;&quot;</span>+contextPath+<span class="string">&quot;/dept/list&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//åˆ é™¤å¤±è´¥</span></span><br><span class="line">            <span class="comment">//req.getRequestDispatcher(&quot;/error.html&quot;).forward(req, resp);</span></span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;&quot;</span>+contextPath+<span class="string">&quot;/error.html&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doModify</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//ä¿®æ”¹éƒ¨é—¨</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">contextPath</span> <span class="operator">=</span> req.getContextPath();</span><br><span class="line">        <span class="comment">//è·å–è¡¨å•ä¸­çš„æ•°æ®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">deptno</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;deptno&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">dname</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;dname&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">loc</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;loc&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é“¾æ¥æ•°æ®åº“</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = DBUtil.getConnection();</span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update dept set dname = ?, loc = ? where deptno = ?&quot;</span>;</span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            ps.setString(<span class="number">1</span>, dname);</span><br><span class="line">            ps.setString(<span class="number">2</span>, loc);</span><br><span class="line">            ps.setString(<span class="number">3</span>, deptno);</span><br><span class="line">            count = ps.executeUpdate();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            DBUtil.close(conn, ps, <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (count == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//æ›´æ–°æˆåŠŸï¼Œè·³è½¬åˆ°éƒ¨é—¨åˆ—è¡¨ç•Œé¢</span></span><br><span class="line">            <span class="comment">//req.getRequestDispatcher(&quot;/dept/list&quot;).forward(req, resp);</span></span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;&quot;</span>+contextPath+<span class="string">&quot;/dept/list&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//æ›´æ–°å¤±è´¥ï¼Œè¿”å›é”™è¯¯ç•Œé¢</span></span><br><span class="line">            <span class="comment">//req.getRequestDispatcher(&quot;/error.html&quot;).forward(req, resp);</span></span><br><span class="line">            resp.sendRedirect(<span class="string">&quot;&quot;</span>+contextPath+<span class="string">&quot;/error.html&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="ğŸ¤¨åˆ†æä½¿ç”¨çº¯ç²¹Servletå¼€å‘webåº”ç”¨çš„ç¼ºé™·"><a href="#ğŸ¤¨åˆ†æä½¿ç”¨çº¯ç²¹Servletå¼€å‘webåº”ç”¨çš„ç¼ºé™·" class="headerlink" title="ğŸ¤¨åˆ†æä½¿ç”¨çº¯ç²¹Servletå¼€å‘webåº”ç”¨çš„ç¼ºé™·"></a>ğŸ¤¨åˆ†æä½¿ç”¨çº¯ç²¹Servletå¼€å‘webåº”ç”¨çš„ç¼ºé™·</h1><p>javaä»£ç æ··åˆäº†htmlç­‰å‰ç«¯ä»£ç ï¼Œä½¿å¾—ç¨‹åºè€¦åˆåº¦éå¸¸é«˜ï¼Œä»£ç ä¸ç¾è§‚ï¼Œç»´æŠ¤æˆæœ¬éå¸¸é«˜ç­‰ä¸€ç³»åˆ—ç¼ºç‚¹ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ä¸€ç§æœºåˆ¶å°†å‰ç«¯ä»£ç è‡ªåŠ¨ç¿»è¯‘æˆJavaä»£ç ï¼Œå¦‚ä¸‹ï¼š</p>
<p>å‰ç«¯ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è½¬æ¢åï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">out.print(<span class="string">&quot;&lt;html&gt;&quot;</span>);</span><br><span class="line">out.print(<span class="string">&quot;&lt;head&gt;&lt;/head&gt;&quot;</span>);    </span><br><span class="line">out.print(<span class="string">&quot;&lt;/html&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæœºåˆ¶å°±æ˜¯JSP</p>
<h1 id="ğŸ˜—B-Sç»“æ„ç³»ç»Ÿçš„ä¼šè¯æœºåˆ¶ï¼ˆsessionæœºåˆ¶ï¼‰"><a href="#ğŸ˜—B-Sç»“æ„ç³»ç»Ÿçš„ä¼šè¯æœºåˆ¶ï¼ˆsessionæœºåˆ¶ï¼‰" class="headerlink" title="ğŸ˜—B&#x2F;Sç»“æ„ç³»ç»Ÿçš„ä¼šè¯æœºåˆ¶ï¼ˆsessionæœºåˆ¶ï¼‰"></a>ğŸ˜—B&#x2F;Sç»“æ„ç³»ç»Ÿçš„ä¼šè¯æœºåˆ¶ï¼ˆsessionæœºåˆ¶ï¼‰</h1><ul>
<li><p>ä¼šè¯æœºåˆ¶:</p>
<ul>
<li>HTTPæ˜¯æ— çŠ¶æ€çš„åè®®</li>
<li>ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨,è¿›è¡Œä¸€ç³»åˆ—æ“ä½œ,æœ€ç»ˆå°†æµè§ˆå™¨å…³é—­,è¿™ä¸ªè¿‡ç¨‹å«åšä¸€æ¬¡ä¼šè¯.ä¼šè¯åœ¨æœåŠ¡å™¨ç«¯ä¹Ÿæœ‰ä¸€ä¸ªå¯¹åº”çš„Javaå¯¹è±¡,å³session</li>
<li>ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸Šç‚¹å‡»ä¸€æ¬¡,ç›´åˆ°ç•Œé¢åœä¸‹æ¥,å¯ä»¥è®¤ä¸ºè¿™æ˜¯ä¸€æ¬¡è¯·æ±‚,è¯·æ±‚å¯¹åº”çš„Javaå¯¹è±¡æ˜¯request.</li>
<li>å› æ­¤,ä¸€æ¬¡ä¼šè¯ä¸­åŒ…å«å¤šæ¬¡è¯·æ±‚</li>
</ul>
</li>
<li><p>sessionå¯¹è±¡çš„ä½œç”¨ï¼šä¿å­˜ä¼šè¯çŠ¶æ€ï¼ˆæ¯”å¦‚ç”¨sessionè®°å½•ç”¨æˆ·å·²ç™»å½•çš„çŠ¶æ€ï¼‰</p>
<ul>
<li>è·å–sessionå¯¹è±¡</li>
<li><pre><code class="java">//ä»webè·å–sessionå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰sessionå¯¹è±¡ï¼Œå°±æ–°å»ºä¸€ä¸ª
HttpSession session = req.getSession();

//ä»webè·å–sessionå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰sessionå¯¹è±¡ï¼Œå°±ä¸åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªnull
HttpSession session = req.getSession(false);
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- org.apache.catalina.session.StandardSessionFacade@4e89be27 å†…å­˜åœ°å€æ¯æ¬¡ä¼šè¯éƒ½ä¸ä¸€æ ·</span><br><span class="line"></span><br><span class="line">- å‡ ä¸ªåŸŸ</span><br><span class="line">  - requestï¼ˆè¯·æ±‚åŸŸ è¯·æ±‚çº§ HttpServletRequestï¼‰&lt;sessionï¼ˆä¼šè¯åŸŸ ç”¨æˆ·çº§ HttpSessionï¼‰&lt;applicationï¼ˆåº”ç”¨åŸŸ é¡¹ç›®çº§ ServletContextï¼‰</span><br><span class="line">  - é€šè¿‡è¿™ä¸ªä½œç”¨èŒƒå›´ä¹Ÿå¯çŸ¥ä¸€ä¸ªç”¨æˆ·åº”è¯¥å¯¹åº”ä¸€ä¸ªä¼šè¯åŸŸ</span><br><span class="line">  - è¿™å‡ ä¸ªåŸŸéƒ½æœ‰çš„å…¬å…±æ–¹æ³•</span><br><span class="line">    - setAttributeï¼ˆç»‘å®šï¼‰</span><br><span class="line">    - getAttributeï¼ˆè·å–ï¼‰</span><br><span class="line">    - </span><br><span class="line">      removeAttributeï¼ˆåˆ é™¤ï¼‰</span><br><span class="line">  - ä½¿ç”¨åŸåˆ™ï¼šå°½é‡ä½¿ç”¨å°çš„åŸŸ</span><br><span class="line"></span><br><span class="line">- sessionçš„ä¸€äº›æœºåˆ¶</span><br><span class="line"></span><br><span class="line">  - å› ä¸ºHTTPæ˜¯æ— çŠ¶æ€çš„åè®®ï¼ˆæœåŠ¡å™¨æ— æ³•ç›‘è§†åˆ°æµè§ˆå™¨å…³é—­ï¼‰ï¼Œæ‰€ä»¥sessionæœ‰ä¸€ä¸ªè¶…æ—¶è‡ªåŠ¨åˆ é™¤çš„æœºåˆ¶ï¼Œå³é•¿æ—¶é—´æœªå‘æœåŠ¡å™¨å‘é€è¯·æ±‚åï¼Œä¼šæŠŠè¯¥ç”¨æˆ·çš„sessionåˆ é™¤ï¼Œä¹Ÿå°±æ˜¯è¦é‡æ–°ç™»å½•äº†ã€‚</span><br><span class="line"></span><br><span class="line">  - sessionå¯¹è±¡çš„é”€æ¯æœºåˆ¶</span><br><span class="line"></span><br><span class="line">    - è¶…æ—¶é”€æ¯ï¼ˆç”¨æˆ·ä¸å†è®¿é—®æœåŠ¡å™¨ä¸€æ®µæ—¶é—´ï¼‰</span><br><span class="line"></span><br><span class="line">      - åœ¨xmlæ–‡ä»¶ä¸­å¯ä»¥é…ç½®</span><br><span class="line"></span><br><span class="line">      - ```xml</span><br><span class="line">        &lt;!--    sessionçš„è¶…æ—¶æ—¶é•¿æ˜¯30åˆ†é’Ÿï¼ˆé»˜è®¤ä¹Ÿæ˜¯30åˆ†é’Ÿï¼‰--&gt;</span><br><span class="line">            &lt;session-config&gt;</span><br><span class="line">                &lt;session-timeout&gt;30&lt;/session-timeout&gt;</span><br><span class="line">            &lt;/session-config&gt;</span><br></pre></td></tr></table></figure>

- æ‰‹åŠ¨é”€æ¯ï¼ˆç½‘é“¶ä¸­çš„â€œå®‰å…¨é€€å‡ºâ€ï¼‰
</code></pre>
</li>
</ul>
</li>
<li><p>sessionçš„å®éªŒåŸç†</p>
<ul>
<li><p>åœ¨webæœåŠ¡å™¨ä¸­æœ‰ä¸€ä¸ªsessionåˆ—è¡¨ï¼Œç±»ä¼¼äºmapé›†åˆï¼Œè¿™ä¸ªmapé›†åˆçš„keyå­˜å‚¨çš„æ˜¯session_idï¼Œè¿™ä¸ªmapé›†åˆçš„valueå­˜å‚¨çš„æ˜¯å¯¹åº”çš„sessionå¯¹è±¡ã€‚</p>
</li>
<li><p>ç”¨æˆ·å‘é€ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼šæœåŠ¡å™¨ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„sessionå¯¹è±¡ï¼ŒåŒæ—¶ç»™sessionå¯¹è±¡ç”Ÿæˆä¸€ä¸ªidï¼Œç„¶åwebæœåŠ¡å™¨ä¼šå°†sessionçš„idå‘é€ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨å°†sessionçš„idä¿å­˜åœ¨<strong>æµè§ˆå™¨çš„ç¼“å­˜</strong>ä¸­ã€‚</p>
<ul>
<li><pre><code>Response Headersï¼ˆå“åº”æ ‡å¤´ï¼‰:
Set-Cookie: JSESSIONID=6D6ADAD0160C715CC57E0BADC0C7018A;

è¿™è¯´æ˜session_idæœ¬è´¨æ˜¯ä¸€ä¸ªæ”¾åˆ°æµè§ˆå™¨ç¼“å­˜é‡Œçš„ä¸€ä¸ªcookie
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ç”¨æˆ·å‘é€ç¬¬äºŒæ¬¡è¯·æ±‚çš„æ—¶å€™ï¼šä¼šè‡ªåŠ¨å°†**æµè§ˆå™¨ç¼“å­˜**ä¸­çš„session_idè‡ªåŠ¨å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è·å–åˆ°session_idï¼Œç„¶åä»sessionåˆ—è¡¨ä¸­æŸ¥æ‰¾åˆ°å¯¹åº”çš„sessionå¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">  - ```</span><br><span class="line">    Request Headersï¼ˆè¯·æ±‚æ ‡å¤´ï¼‰</span><br><span class="line">    Cookie: JSESSIONID=6D6ADAD0160C715CC57E0BADC0C7018A;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
<li><p>å…³é—­æµè§ˆå™¨ï¼Œå†…å­˜æ¶ˆå¤±ï¼Œcookieæ¶ˆå¤±ï¼Œsession_idæ¶ˆå¤±ï¼Œä¼šè¯ç­‰åŒç»“æŸã€‚</p>
</li>
</ul>
</li>
<li><p>cookieç¦ç”¨åï¼Œå¯¹sessionçš„å½±å“</p>
<ul>
<li><p>cookieç¦ç”¨ï¼šæœåŠ¡å™¨æ­£å¸¸å‘é€cookieç»™æµè§ˆå™¨ï¼Œä½†æ˜¯æµè§ˆå™¨ä¸è¦äº†ã€‚æ‹’æ”¶ï¼Œå¹¶ä¸æ˜¯æœåŠ¡å™¨ä¸å‘äº†ã€‚</p>
</li>
<li><p>å› ä¸ºæ²¡æœ‰äº†sessionidï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡è¯·æ±‚éƒ½å°†è·å–åˆ°æ–°çš„sessionå¯¹è±¡</p>
</li>
<li><p>åœ¨ç¦ç”¨çš„æƒ…å†µä¸‹å¦‚ä½•å®ç°sessionæœºåˆ¶å¦‚ä½•å®ç°</p>
<ul>
<li><p>ä½¿ç”¨URLé‡å†™æœºåˆ¶å³å¯</p>
</li>
<li><p>ä½†è¿™æ ·ä¼šå¤§å¤§å¢åŠ å¼€å‘è€…çš„æˆæœ¬ï¼Œå³å¼€å‘äººå‘˜åœ¨ç¼–å†™ä»»ä½•è¯·æ±‚è·¯å¾„æ—¶ï¼Œåé¢éƒ½è¦åŠ ä¸Šä¸€ä¸ªsessionidã€‚æ‰€ä»¥å¤§éƒ¨åˆ†ç½‘ç«™éƒ½æ˜¯ç¦ç”¨cookieå°±ä¸è®©ç”¨äº†ã€‚</p>
</li>
<li><pre><code>http://localhost:8080/servlet08/test/session;jsessionid=6D6ADAD0160C715CC57E0BADC0C7018A
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># ğŸ˜JSP</span><br><span class="line"></span><br><span class="line">è®¿é—®ä¸€ä¸ªindex.jspç•Œé¢ï¼Œåº•å±‚æ‰§è¡Œçš„æ˜¯index_jsp.classè¿™ä¸ªjavaç¨‹åºï¼ˆServletç¨‹åºï¼‰ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ã€‚</span><br><span class="line"></span><br><span class="line">JSPå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªServletã€‚</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">public final class index_jsp extends org.apache.jasper.runtime.HttpJspBase</span><br><span class="line"></span><br><span class="line">public abstract class HttpJspBase extends HttpServlet implements HttpJspPage</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>æ‰€ä»¥jspçš„ç”Ÿå‘½å‘¨æœŸä¸Servletç”Ÿå‘½å‘¨æœŸå®Œå…¨ç›¸åŒã€‚</p>
<p>æ­¤å¤–ï¼Œjspç•Œé¢ç¬¬ä¸€æ¬¡è®¿é—®æ¯”è¾ƒæ…¢ï¼Œå› ä¸ºéœ€è¦ç¼–è¯‘æˆjavaæ–‡ä»¶ï¼Œç¼–è¯‘åçš„javaæ–‡ä»¶åœ¨ä»¥ä¸‹ç¤ºä¾‹ç›®å½•é‡Œï¼ˆæ­¤å¤–ï¼Œå¿…é¡»å…ˆè®¿é—®jspæ–‡ä»¶æ‰ä¼šå‡ºç°javaæ–‡ä»¶ä»¥åŠclassæ–‡ä»¶ï¼Œè‹¥javaæ–‡ä»¶æœ‰é”™è¯¯ï¼Œåˆ™ä¸ä¼šå‡ºç°classæ–‡ä»¶ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Using CATALINA_BASE:   &quot;C:\Users\bairimengchang\AppData\Local\JetBrains\IntelliJIdea2021.2\tomcat\92fbcfde-f5d8-4b1b-9c57-3e22239ccede&quot;</span><br></pre></td></tr></table></figure>

<p>JSPæ˜¯ä»€ä¹ˆï¼š</p>
<ul>
<li>JSPæ˜¯javaç¨‹åºï¼ˆæœ¬è´¨æ˜¯ä¸€ä¸ªServletï¼‰</li>
<li>JSPï¼šJavaServer Page çš„ç¼©å†™ï¼ˆåŸºäºjavaè¯­è¨€å®ç°çš„æœåŠ¡å™¨ç«¯ç•Œé¢ï¼‰</li>
<li>Servletæ˜¯JavaEEçš„13ä¸ªå­è§„èŒƒä¹‹ä¸€ï¼Œé‚£ä¹ˆJSPä¹Ÿæ˜¯JavaEEçš„13ä¸ªå­è§„èŒƒä¹‹ä¸€</li>
<li>JSPæ˜¯ä¸€å¥—è§„èŒƒï¼Œæ‰€æœ‰çš„webæœåŠ¡å™¨éƒ½éµå¾ªè¿™å¥—è§„èŒƒï¼Œéƒ½å†…ç½®ä¸€ä¸ªjspç¿»è¯‘å¼•æ“ï¼Œéƒ½æ˜¯æŒ‰ç…§è¿™å¥—è§„èŒƒè¿›è¡Œçš„ç¿»è¯‘</li>
</ul>
<p>JSPä¸Servletçš„åŒºåˆ«ï¼š</p>
<ul>
<li>èŒè´£ä¸åŒ<ul>
<li>Servletçš„èŒè´£ï¼šæ”¶é›†æ•°æ®ï¼ˆé€»è¾‘å¤„ç†ï¼Œä¸šåŠ¡å¤„ç†ï¼Œè¿æ¥æ•°æ®åº“ï¼Œè·å–&#x2F;æ”¶é›†æ•°æ®ï¼‰</li>
<li>JSPçš„èŒè´£ï¼šå±•ç¤ºæ•°æ®ï¼ˆåšæ•°æ®çš„å±•ç¤ºï¼‰</li>
</ul>
</li>
</ul>
<p>jspä¸­ç›´æ¥å†™çš„ä¸œè¥¿ä¼šå‡ºç°åœ¨classæ–‡ä»¶ä¸­çš„å½¢å¼ï¼ˆè¢«å½“ä½œæ™®é€šå­—ç¬¦ä¸²æ‰“å°è¾“å‡ºåˆ°æµè§ˆå™¨ï¼Œç„¶åæµè§ˆå™¨è¿›è¡Œè§£é‡Šæ‰§è¡Œï¼‰æ¯”å¦‚ï¼š</p>
<p>jspï¼š</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="meta">@page</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span> %&gt;</span><br><span class="line">abc</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;hello&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1 align=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">    ä½ å¥½&lt;br&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;/oa/dept/list&quot;</span>&gt;list&lt;/a&gt;</span><br><span class="line">&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>javaï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">out.write(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">out.write(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">out.write(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;head&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;    &lt;meta charset=\&quot;UTF-8\&quot;&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;    &lt;title&gt;hello&lt;/title&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/head&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;body&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;h1 align=\&quot;center\&quot;&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;    ä½ å¥½&lt;br&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;    &lt;a href=\&quot;/oa/dept/list\&quot;&gt;list&lt;/a&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/h1&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/body&gt;\r\n&quot;</span>);</span><br><span class="line">out.write(<span class="string">&quot;&lt;/html&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼ˆåœ¨jspæ–‡ä»¶çš„å¼€å¤´åŠ ä¸Šä¸€å¥è¯ï¼‰</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="meta">@page</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨jspä¸­ç¼–å†™javaç¨‹åº</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;%javaè¯­å¥æ”¾åœ¨è¿™é‡Œï¼Œä¼šè¢«ç¿»è¯‘åˆ°Servletç±»çš„serviceæ–¹æ³•å†…éƒ¨ï¼Œè¿™æ˜¯ä¸€ä¸ªæ–¹æ³•ä½“%&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--HTMLçš„æ³¨é‡Šï¼Œè¿™ä¸ªæ³¨é‡Šä¸ä¸“ä¸šï¼Œä»ç„¶ä¼šè¢«ç¿»è¯‘åˆ°javaæºä»£ç å½“ä¸­ï¼Œåœ¨jspä¸­ä¸è¦ä½¿ç”¨è¿™ç§æ³¨é‡Š--&gt;</span><br><span class="line">&lt;%--System.out.println(<span class="string">&quot;I am going to torture syp!&quot;</span>);è¿™æ‰æ˜¯æ ‡å‡†jspä¸“ä¸šï¼Œè¿™ä¸ªæ³¨é‡Šä¿¡æ¯ä¸ä¼šè¢«ç¿»è¯‘åˆ°javaæºæ–‡ä»¶ä¸­--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%!è¿™é‡Œé¢çš„ä»£ç ä¼šè¢«ç¿»è¯‘åˆ°serviceæ–¹æ³•ä¹‹å¤–ï¼Œä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨ï¼ˆä¿®æ”¹æ“ä½œï¼‰é—®é¢˜ï¼Œæ‰€ä»¥ä¸å¸¸ç”¨%&gt;</span><br></pre></td></tr></table></figure>

<p>jspæœ‰ä¹å¤§å†…ç½®å¯¹è±¡ï¼Œéƒ½æ˜¯ä¹‹å‰ç”¨è¿‡çš„</p>
<ul>
<li>outå¯¹è±¡ï¼Œä½œä¸ºè¾“å‡ºå¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥æ‹¿æ¥åœ¨serviceæ–¹æ³•é‡Œç”¨<ul>
<li>å‘æµè§ˆå™¨è¾“å‡ºä¸€ä¸ªjavaå¯¹è±¡</li>
<li>&lt;% String name &#x3D; â€œjackâ€; out.write(â€œname:â€+name);%&gt;</li>
<li>è¾“å‡ºçš„å†…å®¹ä¸­æ²¡æœ‰javaä»£ç ç›´æ¥å†™å°±å¯ä»¥ï¼Œå¦‚æœè¾“å‡ºçš„å†…å®¹ä¸­å«æœ‰â€javaâ€ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•æ ¼å¼<ul>
<li>&lt;%&#x3D; %&gt;ï¼Œæ³¨æ„åœ¨&#x3D;åé¢å†™è¦è¾“å‡ºçš„å†…å®¹</li>
<li>è¿™ä¸ªç¬¦å·æœ€ç»ˆè¢«ç¿»è¯‘æˆout.print();ï¼Œæ³¨æ„è¿™é‡Œå¸¦åˆ†å·</li>
<li>&lt;%&#x3D;â€Hello world!â€%&gt; å·¦å³ä¸¤å¥è¯æ˜¯ç­‰æ•ˆçš„ &lt;%â€“out.print(â€œHello world!â€);â€“%&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>jspæ–‡ä»¶çš„æ‰©å±•åå¯ä»¥æ˜¯åˆ«çš„ï¼Œtomcaté…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼Œå¯¹äºtomcatæ¥è®²jspæ–‡ä»¶å°±åªæ˜¯ä¸€ä¸ªæ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæœ€ç»ˆè°ƒç”¨çš„è¿˜æ˜¯ç¿»è¯‘ä¹‹åçš„javaæ–‡ä»¶ï¼Œä¸jspå°±æ²¡ä»€ä¹ˆå…³ç³»äº†</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>jsp<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.jsp<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.jspx<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>JSPæŒ‡ä»¤</p>
<ul>
<li><p>æŒ‡ä»¤çš„ä½œç”¨ï¼šæŒ‡å¯¼jspç¿»è¯‘å¼•æ“å¦‚ä½•ç¿»è¯‘jspæ–‡ä»¶</p>
</li>
<li><pre><code class="jsp">&lt;%@page%&gt; 
&lt;%@include file=&quot;&quot;%&gt; åŒ…å«æŒ‡ä»¤ï¼Œåœ¨JSPä¸­å®Œæˆé™æ€åŒ…å«ï¼ˆå¾ˆå°‘ç”¨ï¼‰
&lt;%@taglib prefix=&quot;&quot;%&gt; å¼•å…¥æ ‡ç­¾åº“çš„æŒ‡ä»¤
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- æŒ‡ä»¤çš„è¯­æ³•æ ¼å¼</span><br><span class="line"></span><br><span class="line">  - &lt;%@æŒ‡ä»¤å å±æ€§å=å±æ€§å€¼ å±æ€§å=å±æ€§å€¼ å±æ€§å=å±æ€§å€¼...%&gt;</span><br><span class="line"></span><br><span class="line">- å…³äºpageæŒ‡ä»¤</span><br><span class="line"></span><br><span class="line">  - ```jsp</span><br><span class="line">    &lt;%@page session=&quot;true|false&quot; %&gt;</span><br><span class="line">    æ˜¯å¦å¯ç”¨jspå†…ç½®å¯¹è±¡sessionï¼Œé»˜è®¤å€¼æ˜¯true</span><br><span class="line">    </span><br><span class="line">    &lt;%@page contentType=&quot;text/html; ISO-8859-1&quot; %&gt;</span><br><span class="line">    è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹ï¼Œé»˜è®¤å€¼æ˜¯text/html</span><br><span class="line">    </span><br><span class="line">    &lt;%@page pageEncoding=&quot;UTF-8&quot; %&gt;</span><br><span class="line">    è®¾ç½®å­—ç¬¦é›†</span><br><span class="line">    </span><br><span class="line">    &lt;%@page import=&quot;java.util.List, java.util.Enumeration&quot; %&gt;</span><br><span class="line">    å¯¼åŒ…</span><br><span class="line">    </span><br><span class="line">    &lt;%@page errorPage=&quot;/error.jsp&quot; %&gt;</span><br><span class="line">    å½“å‰jspå‡ºé”™ä¹‹åè·³è½¬åˆ°error.jspç•Œé¢</span><br><span class="line">    </span><br><span class="line">    &lt;%@page isErrorPage=&quot;true&quot; %&gt;</span><br><span class="line">    å¯ç”¨jspä¹å¤§å†…ç½®å¯¹è±¡exception</span><br><span class="line">    ä»è€Œåå°æ‰“å°è¾“å‡ºé”™è¯¯ä¿¡æ¯exception.printStackTrace();</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
<li><p>jspä¹å¤§å†…ç½®å¯¹è±¡</p>
<ul>
<li><pre><code class="java">jakarta.servlet.jsp.PageContext pageContext//é¡µé¢ä½œç”¨åŸŸ
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ```java</span><br><span class="line">  jakarta.servlet.http.HttpServletRequest request//è¯·æ±‚ä½œç”¨åŸŸ</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><pre><code class="java">jakarta.servlet.http.HttpSession session//ä¼šè¯ä½œç”¨åŸŸ
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ```java</span><br><span class="line">  jakarta.servlet.ServletContext application//åº”ç”¨ä½œç”¨åŸŸ</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
<li><pre><code class="java">jakarta.lang.Throwable.exeception//å¤„ç†å¼‚å¸¸
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ```java</span><br><span class="line">  jakarta.servlet.ServletConfig config//è·å–servletæ ‡ç­¾é‡Œçš„é…ç½®ä¿¡æ¯</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><pre><code class="java">java.lang.Object page//å°±æ˜¯thisï¼Œè¡¨ç¤ºå½“å‰çš„servletå¯¹è±¡
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">- ```java</span><br><span class="line">  jakarta.servlet.jsp.JspWriter out//è´Ÿè´£è¾“å‡º</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><pre><code class="java">jakarta.servlet.http.HttpServletResponse response//è´Ÿè´£å“åº”
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"># ğŸ¤©ä½¿ç”¨sessionä¼šè¯æœºåˆ¶è§£å†³ç™»å½•çš„é—®é¢˜</span><br><span class="line"></span><br><span class="line">ç™»å½•æˆåŠŸåä¿å­˜ä¸€ä¸ªsessionå¯¹è±¡ï¼Œç„¶åè¿›å…¥åˆ°éƒ¨é—¨åˆ—è¡¨æ—¶è¯»å–sessionå¯¹è±¡å³å¯</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">public class UserServlet extends HttpServlet</span><br><span class="line"></span><br><span class="line">protected void doLogin(HttpServletRequest req, HttpServletResponse resp)</span><br><span class="line">            throws ServletException, IOException &#123;</span><br><span class="line">/*...*/</span><br><span class="line">        if (success)&#123;</span><br><span class="line">            //æˆåŠŸï¼Œè·³è½¬åˆ°ç”¨æˆ·åˆ—è¡¨</span><br><span class="line">            //é‡å®šå‘æœºåˆ¶</span><br><span class="line"></span><br><span class="line">            //è·å–sessionå¯¹è±¡ï¼Œå¿…é¡»è·å–åˆ°session</span><br><span class="line">            HttpSession session = req.getSession();</span><br><span class="line">            session.setAttribute(&quot;username&quot;, username);</span><br><span class="line"></span><br><span class="line">            resp.sendRedirect(contextPath+&quot;/dept/list&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            //å¤±è´¥</span><br><span class="line">            resp.sendRedirect(contextPath+&quot;/error.jsp&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">            <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">//å…¥å£çš„éªŒè¯ï¼Œè¿™ä¸ªsessionä¸éœ€è¦æ–°å»º</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession(<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span> (session!=<span class="literal">null</span>&amp;&amp;session.getAttribute(<span class="string">&quot;username&quot;</span>)!=<span class="literal">null</span>)&#123;</span><br><span class="line"><span class="comment">/*...*/</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//è·³è½¬åˆ°ç™»å½•ç•Œé¢ï¼Œè‡ªåŠ¨æ‰¾åˆ°æ¬¢è¿ç•Œé¢</span></span><br><span class="line">            resp.sendRedirect(req.getContextPath());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–å¯ä»¥åˆ©ç”¨sessionæœºåˆ¶è®¾ç½®ä¸€ä¸ªå®‰å…¨é€€å‡ºæŒ‰é’®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doExit</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span><br><span class="line">        <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">    <span class="comment">//è·å–sessionå¯¹è±¡ï¼Œç„¶åé”€æ¯</span></span><br><span class="line">    <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession(<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">if</span> (session != <span class="literal">null</span>)&#123;</span><br><span class="line">        session.invalidate();</span><br><span class="line">        <span class="comment">//è·³è½¬å›ç™»å½•ç•Œé¢</span></span><br><span class="line">        resp.sendRedirect(req.getContextPath());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ‰äº†æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ï¼Œè¿›è¡Œè¿™äº›ä¿®æ”¹éå¸¸å®¹æ˜“ã€‚</p>
<h1 id="ğŸ¤”Cookie"><a href="#ğŸ¤”Cookie" class="headerlink" title="ğŸ¤”Cookie"></a>ğŸ¤”Cookie</h1><ul>
<li><p>sessionçš„å®ç°å°±æ˜¯cookie</p>
</li>
<li><p>cookieæœºåˆ¶å’Œsessionæœºåˆ¶éƒ½æ˜¯HTTPåè®®ä¸­çš„ä¸€éƒ¨åˆ†ï¼ŒHTTPåè®®è§„å®šï¼šä»»ä½•åº”è¯¥cookieéƒ½æ˜¯ç”±nameå’Œvalueç»„æˆçš„ï¼Œnameå’Œvalueéƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ï¼Œåœ¨æµè§ˆå™¨å‘é€è¯·æ±‚æ—¶ï¼Œä¼šè‡ªåŠ¨æºå¸¦è¯¥è·¯å¾„ï¼ˆpathï¼‰ä¸‹çš„cookieæ•°æ®ç»™æœåŠ¡å™¨</p>
</li>
<li><p>åœ¨javaçš„servletä¸­å¯¹cookieæä¾›çš„æ”¯æŒ</p>
<ul>
<li>jakarta.servlet.http.Cookie;</li>
<li>æŠŠcookieæ•°æ®å‘é€åˆ°æµè§ˆå™¨ response.addCookie(cookie);</li>
</ul>
</li>
<li><p>cookieçš„æœ‰æ•ˆæ—¶é—´</p>
<ul>
<li><pre><code class="java">//è®¾ç½®cookieåœ¨ä¸€å°æ—¶ä¹‹åå¤±æ•ˆï¼Œä¿å­˜åœ¨å†…å­˜æ–‡ä»¶ä¸­
cookie.setMaxAge(60*60);
//è®¾ç½®Cookieçš„æœ‰æ•ˆæœŸ&lt;0ï¼Œè¡¨ç¤ºcookieä¸ä¼šè¢«å­˜å‚¨åœ¨ç¡¬ç›˜æ–‡ä»¶ä¸­ï¼Œä¼šæ”¾åœ¨æµè§ˆå™¨çš„è¿è¡Œå†…å­˜ä¸­
cookie.setMaxAge(-1);//å’Œä¸è°ƒç”¨setMaxAgeæ˜¯åŒä¸€ä¸ªæ•ˆæœ
//è®¾ç½®Cookieçš„æœ‰æ•ˆæœŸ=0ï¼Œè¡¨ç¤ºcookieè¢«åˆ é™¤ï¼ŒåŒåcookieè¢«åˆ é™¤
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">- å…³äºCookieçš„è·¯å¾„path</span><br><span class="line"></span><br><span class="line">  - cookie.setPath(&quot;/servlet10&quot;)ï¼Œè¡¨ç¤ºåªè¦æµè§ˆå™¨çš„è¯·æ±‚è·¯å¾„æ˜¯è¿™ä¸ªè·¯å¾„ï¼Œä»¥åŠè¿™ä¸ªè·¯å¾„ä¸‹çš„å­è·¯å¾„ï¼Œcookieéƒ½ä¼šè¢«æäº¤åˆ°æœåŠ¡å™¨</span><br><span class="line">- åœ¨servletä¸­è·å–Cookieå¹¶æ‰“å°è¾“å‡ºnameå’Œvalue</span><br><span class="line"></span><br><span class="line">  - ```java</span><br><span class="line">    //é€šè¿‡requestè·å–</span><br><span class="line">            //è¿™ä¸ªæ–¹æ³•æœ‰å¯èƒ½ä¼šè¿”å›ä¸€ä¸ªnullï¼Œå³æµè§ˆå™¨æ²¡æœ‰å‘æœåŠ¡å™¨æäº¤cookie</span><br><span class="line">            Cookie[] cookies = req.getCookies();</span><br><span class="line">    </span><br><span class="line">            //å¦‚æœä¸æ˜¯null</span><br><span class="line">            if (cookies != null) &#123;</span><br><span class="line">                //éå†æ•°ç»„</span><br><span class="line">                for (Cookie cookie : cookies)&#123;</span><br><span class="line">                    //è·å–cookieçš„nameä¸value</span><br><span class="line">                    String name = cookie.getName();</span><br><span class="line">                    String value = cookie.getValue();</span><br><span class="line">                    System.out.println(name + &quot;=&quot; + value);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<h1 id="ğŸ¤—ä½¿ç”¨cookieå®Œæˆoaé¡¹ç›®çš„åå¤©ä¹‹å†…å…ç™»å½•"><a href="#ğŸ¤—ä½¿ç”¨cookieå®Œæˆoaé¡¹ç›®çš„åå¤©ä¹‹å†…å…ç™»å½•" class="headerlink" title="ğŸ¤—ä½¿ç”¨cookieå®Œæˆoaé¡¹ç›®çš„åå¤©ä¹‹å†…å…ç™»å½•"></a>ğŸ¤—ä½¿ç”¨cookieå®Œæˆoaé¡¹ç›®çš„åå¤©ä¹‹å†…å…ç™»å½•</h1><ul>
<li><p>æ€è·¯ä¸æ•™è®­ï¼š</p>
<ul>
<li><p>è®¾ç½®ä¸€ä¸ªæ¬¢è¿ç”¨çš„servletï¼Œè®©è¿™ä¸ªservletå»åˆ¤æ–­å¤„ç†cookieï¼Œç„¶åè·³è½¬ç™»å½•ç•Œé¢æˆ–åˆ—è¡¨ç•Œé¢</p>
<ul>
<li><p>ç”¨æˆ·æµè§ˆå™¨åœ¨å‘å‡ºHTTPè¯·æ±‚æ—¶ï¼Œä¼šå°†ä¸è¯·æ±‚ç›¸å…³çš„å…¨éƒ¨Cookieä¿¡æ¯ä¸€èµ·å‘é€ç»™æœåŠ¡å™¨ã€‚è¿™æ„å‘³ç€æµè§ˆå™¨ä¼šå°†å­˜å‚¨åœ¨ç‰¹å®šåŸŸåä¸‹çš„æ‰€æœ‰Cookieéƒ½å‘é€ç»™æœåŠ¡å™¨ï¼Œè€Œä¸ä»…ä»…æ˜¯æŸä¸ªç‰¹å®šçš„Cookieã€‚</p>
<p>æœåŠ¡å™¨æ”¶åˆ°è¿™äº›Cookieåï¼Œå¯ä»¥æ ¹æ®éœ€è¦å¯¹å…¶ä¸­çš„æŸä¸ªæˆ–å¤šä¸ªCookieè¿›è¡Œè§£æå’Œå¤„ç†ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨ä¼šæ ¹æ®Cookieçš„åç§°æ¥è¯†åˆ«å’Œæå–ç‰¹å®šçš„Cookieå€¼ï¼Œä»¥å®Œæˆç›¸åº”çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚ç”¨æˆ·èº«ä»½éªŒè¯ã€ä¸ªæ€§åŒ–è®¾ç½®ç­‰ã€‚</p>
</li>
<li><p>æ­¤å¤–ï¼Œå¦‚æœç”¨æˆ·åœ¨ä¸¤ä¸ªä¸åŒçš„ç½‘ç«™ä¸Šä½¿ç”¨ç›¸åŒçš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªç½‘ç«™ä½¿ç”¨ç›¸åŒçš„ Cookie é”®æ¥å­˜å‚¨ç”¨æˆ·åå’Œå¯†ç ï¼Œé‚£ä¹ˆå°±å¯èƒ½ä¼šå¯¼è‡´ä¸€ä¸ªç½‘ç«™ç™»å½•æˆåŠŸåï¼Œåœ¨å¦ä¸€ä¸ªç½‘ç«™ä¸Šè‡ªåŠ¨ç™»å½•æˆåŠŸçš„æƒ…å†µã€‚</p>
</li>
</ul>
</li>
<li><p>åœ¨ç”¨æˆ·æœåŠ¡å™¨ç±»é‡Œå¤„ç†ç”¨æˆ·å‹¾é€‰10å¤©ä¹‹å†…å…ç™»å½•ï¼ˆè¿™ä¸ªæ“ä½œè¦å‘æœåŠ¡å™¨å‘é€ä¸ªé”®å€¼å¯¹ï¼Œç”¨æ¥è®©æœåŠ¡å™¨æ‰§è¡Œå‘cookieçš„æ“ä½œï¼‰åï¼Œå‘æ”¾è£…æœ‰è´¦å·å¯†ç çš„cookie</p>
<ul>
<li><pre><code class="java">//ç™»å½•æˆåŠŸæ‰è€ƒè™‘ï¼Œæ˜¯å¦ç»™cookie
String f = req.getParameter(&quot;f&quot;);
if (&quot;1&quot;.equals(f))&#123;
    //ä¸€ä¸ªcookieä¿å­˜ä¸€å¯¹é”®å€¼å¯¹
    Cookie cookie1 = new Cookie(&quot;username&quot;, username);
    Cookie cookie2 = new Cookie(&quot;password&quot;, password);//å®é™…æƒ…å†µæ˜¯åŠ å¯†å­˜å‚¨
    //è®¾ç½®æœ‰æ•ˆæœŸ10å¤©
    cookie1.setMaxAge(60*60*24*10);
    cookie2.setMaxAge(60*60*24*10);
    //è®¾ç½®cookieçš„è·¯å¾„
    cookie1.setPath(req.getContextPath());
    cookie2.setPath(req.getContextPath());
    //æŠŠæ”¾å¥½è´¦å·çš„cookieå’Œæ”¾å¥½å¯†ç çš„Cookieäº¤ç»™ç”¨æˆ·ï¼ˆè®¾ç½®å¥½æœ‰æ•ˆæœŸå’Œè·¯å¾„çš„cookieï¼‰
    resp.addCookie(cookie1);
    resp.addCookie(cookie2);
&#125;
resp.sendRedirect(contextPath+&quot;/dept/list&quot;);
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ç”¨æˆ·å®‰å…¨é€€å‡ºä»¥åï¼Œcookieä¼šç›´æ¥å¤±æ•ˆ</span><br><span class="line"></span><br><span class="line">  - ```java</span><br><span class="line">    //è·å–sessionå¯¹è±¡ï¼Œç„¶åé”€æ¯ï¼ˆå®é™…ä¸Šä¹Ÿæ‘§æ¯äº†cookieï¼‰</span><br><span class="line">    HttpSession session = req.getSession(false);</span><br><span class="line">    if (session != null)&#123;</span><br><span class="line">        session.invalidate();</span><br><span class="line">        //è·³è½¬å›ç™»å½•ç•Œé¢</span><br><span class="line">        resp.sendRedirect(req.getContextPath());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="ğŸ˜˜ELè¡¨è¾¾å¼"><a href="#ğŸ˜˜ELè¡¨è¾¾å¼" class="headerlink" title="ğŸ˜˜ELè¡¨è¾¾å¼"></a>ğŸ˜˜ELè¡¨è¾¾å¼</h1><ul>
<li><p>ELè¡¨è¾¾å¼</p>
<ul>
<li>EèŠ¯ç‰‡çƒ­è‹æ–¯å“¦é‚£Languageï¼ˆè¡¨è¾¾å¼è¯­è¨€ï¼‰</li>
<li>ç”¨æ¥ä»£æ›¿jspä¸­çš„javaä»£ç ï¼Œä»è€Œè®©ä»£ç æ›´åŠ ç¾è§‚</li>
<li>ELè¡¨è¾¾å¼å½’å±äºjsp</li>
</ul>
</li>
<li><p>ELè¡¨è¾¾å¼åœ¨jspä¸­çš„ä½œç”¨</p>
<ul>
<li>ä»æŸä¸ªåŸŸä¸­å–æ•°æ®<ul>
<li>æŒ‡å››å¤§ä½œç”¨åŸŸ</li>
</ul>
</li>
<li>å°†å–å‡ºçš„æ•°æ®è½¬æˆå­—ç¬¦ä¸²<ul>
<li>å¦‚æœæ˜¯ä¸€ä¸ªjavaå¯¹è±¡ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨javaå¯¹è±¡çš„toStringæ–¹æ³•å°†å…¶è½¬æ¢æˆå­—ç¬¦ä¸²</li>
</ul>
</li>
<li>å°†å­—ç¬¦ä¸²è¾“å‡ºåˆ°æµè§ˆå™¨<ul>
<li>å’Œ&lt;%&#x3D;%&gt;ä¸€æ ·ï¼Œå°†å…¶è¾“å‡ºåˆ°æµè§ˆå™¨</li>
</ul>
</li>
</ul>
</li>
<li><p>åŸºæœ¬è¯­æ³•æ ¼å¼</p>
<ul>
<li><p>${è¡¨è¾¾å¼}</p>
<ul>
<li><pre><code class="jsp">&lt;%@ page import=&quot;com.niu.javaweb.jsp.bean.User&quot; %&gt;
&lt;%@page contentType=&quot;text/html; ISO-8859-1&quot;%&gt;

&lt;%
    //åˆ›å»ºuserå¯¹è±¡
    User user = new User();
    user.setName(&quot;jak&quot;);
    user.setPassword(12345);
    user.setAge(12);

    //å°†useræ”¾åˆ°requestä½œç”¨åŸŸä¸­
    request.setAttribute(&quot;userObj&quot;, user);
%&gt;

&lt;%--ä»åŸŸä¸­å–æ•°æ®ï¼Œå–å‡ºuserå¯¹è±¡ï¼Œç„¶åè°ƒç”¨userå¯¹è±¡çš„toStringæ–¹æ³•ï¼Œè½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åè¾“å‡ºåˆ°æµè§ˆå™¨--%&gt;
$&#123;userObj&#125;

&lt;%--çœç•¥æ‰äº†getã€‚æ‰€ä»¥çœ‹èµ·æ¥åƒæ˜¯ç›´æ¥è·å–äº†å±æ€§ã€‚å®é™…ä¸Šåº•å±‚è¿˜æ˜¯è°ƒç”¨getæ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„æ–¹æ³•ï¼Œåˆ™ä¼šæŠ¥500é”™è¯¯ï¼Œä¸å±æ€§æ— å…³ï¼Œè¿™é‡Œæ³¨æ„å‘½åçš„è§„èŒƒ--%&gt;
&lt;br&gt;
$&#123;userObj.name&#125;
&lt;br&gt;
$&#123;userObj.password&#125;
&lt;br&gt;
$&#123;userObj.email&#125;
&lt;br&gt;

&lt;%--åœ¨ELè¡¨è¾¾å¼é‡Œä¸èƒ½åŠ åŒå¼•å·ï¼Œå› ä¸ºè¿™æ ·ELè¡¨è¾¾å¼ä¼šå°†å…¶å½“ä½œæ™®é€šçš„å­—ç¬¦ä¸²è¾“å‡ºåˆ°æµè§ˆå™¨--%&gt;
$&#123;&quot;userObj&quot;&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- åœ¨æ²¡æœ‰æŒ‡å®šèŒƒå›´æ—¶ï¼ŒELè¡¨è¾¾å¼ä¼˜å…ˆä»å°èŒƒå›´ä¸­å–æ•°æ®</span><br><span class="line"></span><br><span class="line">  - pageContext&lt;request&lt;session&lt;application</span><br><span class="line"></span><br><span class="line">  - ```jsp</span><br><span class="line">    &lt;%--ELè¡¨è¾¾å¼ä¸­æœ‰å››ä¸ªéšå«çš„èŒƒå›´ï¼Œè¿™æ ·å°±å¯ä»¥æŒ‡å®šèŒƒå›´å–æ•°æ®äº†--%&gt;</span><br><span class="line">    $&#123;pageScope.data&#125;&lt;br&gt;</span><br><span class="line">    $&#123;requestScope.data&#125;&lt;br&gt;</span><br><span class="line">    $&#123;sessionScope.data&#125;&lt;br&gt;</span><br><span class="line">    $&#123;applicationScope.data&#125;&lt;br&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>å–æ•°æ®æœ‰ä¸¤ç§æ–¹å¼</p>
<ul>
<li><p>ç¬¬ä¸€ç§ï¼Œç›´æ¥ç”¨()ï¼Œæ­£å¸¸æƒ…å†µ</p>
</li>
<li><p>ç¬¬äºŒç§ï¼Œç”¨[]ï¼Œåå­—å«æœ‰ç‰¹æ®Šå­—ç¬¦æ—¶</p>
<ul>
<li><pre><code class="jsp">&lt;%--å½“åå­—æœ‰å†²çªæ—¶ï¼Œå¯ä»¥è¿™æ ·å–æ•°æ®ï¼Œè¿™é‡Œ[]æ²¡åŠ åŒå¼•å·çš„è¯ï¼Œä¼šå°†å…¶çœ‹ä½œå˜é‡ï¼Œå¦‚æœå¸¦åŒå¼•å·çš„è¯ï¼Œå°±å»æ‰¾å¯¹åº”çš„å±æ€§--%&gt;
$&#123;requestScope[&quot;abc.def&quot;]&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - ä»Mapé›†åˆä¸­å–æ•°æ®</span><br><span class="line"></span><br><span class="line">    - $&#123;map, key&#125;</span><br><span class="line"></span><br><span class="line">  - ä»æ•°ç»„/é›†åˆä¸­å–æ•°æ®</span><br><span class="line"></span><br><span class="line">    - $&#123;æ•°ç»„æ˜µç§°[0]&#125;</span><br><span class="line">    - $&#123;æ•°ç»„æ˜µç§°[1]&#125;</span><br><span class="line">    - $&#123;æ•°ç»„æ˜µç§°[2]&#125;</span><br><span class="line">    - $&#123;æ•°ç»„æ˜µç§°[3]&#125;</span><br><span class="line"></span><br><span class="line">- æ˜¯å¦å¿½ç•¥æ‰€æœ‰çš„ELè¡¨è¾¾å¼ï¼Œä½¿å…¶è§£é‡Šä¸ºä¸€ä¸ªæ™®é€šå­—ç¬¦ä¸²</span><br><span class="line"></span><br><span class="line">  - ```jsp</span><br><span class="line">    &lt;%@page isELIgnored=&quot;true&quot; %&gt;é»˜è®¤ä¸å¿½ç•¥</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li><p>å…¶å®å¦‚æœåªæƒ³å¿½ç•¥å…¶ä¸­æŸä¸€ä¸ªï¼Œç›´æ¥åœ¨è¡¨è¾¾å¼å‰åŠ ä¸ªåæ–œæ \å³å¯</p>
<ul>
<li><pre><code>\$&#123;userObj&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ä½¿ç”¨ELè¡¨è¾¾å¼è·å–åº”ç”¨çš„æ ¹</span><br><span class="line"></span><br><span class="line">  - ```jsp</span><br><span class="line">    &lt;%--</span><br><span class="line">        åœ¨ELè¡¨è¾¾å¼å½“ä¸­æ²¡æœ‰requestè¿™ä¸ªéšå¼å¯¹è±¡ï¼ˆjspçš„ä¹å¤§å†…ç½®å¯¹è±¡ï¼‰</span><br><span class="line">        requestScope è¿™ä¸ªåªä»£è¡¨â€œè¯·æ±‚èŒƒå›´â€ï¼Œä¸ç­‰åŒäºrequestå¯¹è±¡</span><br><span class="line">        åœ¨ELè¡¨è¾¾å¼ä¸­æœ‰ä¸€ä¸ªéšå¼å¯¹è±¡ï¼ŒpageContext</span><br><span class="line">        ELè¡¨è¾¾å¼ä¸­çš„pageContextå’Œjspä¸­ä¹å¤§å†…ç½®å¯¹è±¡pageContextæ˜¯åŒä¸€ä¸ªå¯¹è±¡</span><br><span class="line">    --%&gt;</span><br><span class="line">    $&#123;pageContext.request.contextPath&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ELè¡¨è¾¾å¼çš„éšå¼å¯¹è±¡</p>
<ul>
<li><p>pageContext</p>
<ul>
<li>è§ä¸Šé¢æè¿°</li>
</ul>
</li>
<li><p>param</p>
<ul>
<li><pre><code class="jsp">&lt;%--http://localhost:8080/jsp/6.jsp?username=lisi--%&gt;
ç”¨æˆ·åï¼š&lt;%=request.getParameter(&quot;username&quot;)%&gt;&lt;br&gt;
ç”¨æˆ·åï¼š$&#123;param.username&#125;&lt;br&gt;

&lt;%--http://localhost:8080/jsp/6.jsp?username=lisi&amp;aihao=hejiu&amp;aihao=chouyan&amp;aihao=tangtou--%&gt;
&lt;%--paramåªä¼šè·å–ä¸€ç»´æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ --%&gt;
çˆ±å¥½ï¼š$&#123;param.aihao&#125;&lt;br&gt;
çˆ±å¥½ï¼š&lt;%=request.getParameter(&quot;aihao&quot;)%&gt;&lt;br&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- paraValues</span><br><span class="line"></span><br><span class="line">  - ```jsp</span><br><span class="line">    &lt;%--ç­‰åŒäº&lt;%=request.getParameterValues(&quot;aihao&quot;)%&gt;ï¼Œéƒ½æ˜¯ä¸€ç»´æ•°ç»„--%&gt;</span><br><span class="line">    çˆ±å¥½ï¼š$&#123;paramValues.aihao&#125;&lt;br&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;%--é€šè¿‡ä¸‹æ ‡è·å–æ•°ç»„å…ƒç´ --%&gt;</span><br><span class="line">    çˆ±å¥½ï¼š$&#123;paramValues.aihao[0]&#125;ã€$&#123;paramValues.aihao[1]&#125;ã€$&#123;paramValues.aihao[2]&#125;&lt;br&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
<li><p>initPram</p>
<ul>
<li><pre><code class="jsp">&lt;%--è·å–xmlæ–‡ä»¶é‡Œçš„applicationé…ç½®ä¿¡æ¯--%&gt;
&lt;%
    String pageSize = application.getInitParameter(&quot;pageSize&quot;);
%&gt;
&lt;%=pageSize%&gt;
$&#123;initParam.pageSize&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ```xml</span><br><span class="line">  &lt;!--    Servletä¸Šä¸‹æ–‡å‚æ•°ï¼Œè¢«å°è£…åˆ°ServletContextå‚æ•°ä¸­äº†å¯¹åº”jspä¹å¤§å†…ç½®å¯¹è±¡application--&gt;</span><br><span class="line">      &lt;context-param&gt;</span><br><span class="line">          &lt;param-name&gt;pageSize&lt;/param-name&gt;</span><br><span class="line">          &lt;param-value&gt;20&lt;/param-value&gt;</span><br><span class="line">      &lt;/context-param&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ELè¡¨è¾¾å¼ä¸­çš„è¿ç®—ç¬¦</p>
<ul>
<li>å…³äºELè¡¨è¾¾å¼ä¸­çš„è¿ç®—ç¬¦(ä¸€èˆ¬çš„è¿ç®—è¿˜æ˜¯æ”¾åœ¨javaä»£ç ä¸­)<ul>
<li><p>ç®—æœ¯è¿ç®—ç¬¦</p>
</li>
<li><p>å…³ç³»è¿ç®—ç¬¦</p>
<ul>
<li>&#x3D;&#x3D; !&#x3D; &gt; &gt;&#x3D; &lt; &lt;&#x3D; eq</li>
<li>ELè¡¨è¾¾å¼&#x3D;&#x3D;ä¸!&#x3D;å®é™…ä¸Šè°ƒç”¨çš„equalsæ–¹æ³•</li>
</ul>
</li>
<li><p>é€»è¾‘è¿ç®—ç¬¦</p>
<ul>
<li>! &amp;&amp; || not and or</li>
</ul>
</li>
<li><p>æ¡ä»¶è¿ç®—ç¬¦</p>
<ul>
<li>? :</li>
</ul>
</li>
<li><p>å–å€¼è¿ç®—ç¬¦</p>
<ul>
<li>[] .</li>
</ul>
</li>
<li><p>empty è¿ç®—ç¬¦</p>
<ul>
<li>åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºåˆ™ä¸ºtrueå¦åˆ™false</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="ğŸ¤©JSTLæ ‡ç­¾åº“"><a href="#ğŸ¤©JSTLæ ‡ç­¾åº“" class="headerlink" title="ğŸ¤©JSTLæ ‡ç­¾åº“"></a>ğŸ¤©JSTLæ ‡ç­¾åº“</h1><ul>
<li><p>JSTLæ ‡ç­¾åº“</p>
<ul>
<li><p>Java Standard Tag Libï¼ˆJavaæ ‡å‡†çš„æ ‡ç­¾åº“ï¼‰ï¼Œç›®çš„æ˜¯è®©jspä¸­çš„javaä»£ç æ¶ˆå¤±ã€‚å®é™…ä¸Šè¿˜æ˜¯æ‰§è¡Œjavaä»£ç </p>
</li>
<li><p>å¯¹åº”çš„jaråŒ…ï¼š</p>
<ul>
<li>jakarta.servlet.jsp.jstl-2.0.0.jar</li>
<li>jakarta.servlet.jsp.jstl-api-2.0.0.jar</li>
<li>å› ä¸ºtomcatæ²¡æœ‰å¯¹åº”çš„jaråŒ…ï¼Œæ‰€ä»¥è¦åƒjdbcä¸€æ ·ï¼ŒåŠ å…¥åˆ°libç›®å½•ä¸‹ï¼Œè€Œä¸æ˜¯é¡¹ç›®ç»“æ„é‡Œï¼ˆjspå’Œservletçš„jaråŒ…éƒ½æ˜¯ä¸ºäº†ç¼–è¯‘é€šè¿‡æ‰åŠ å…¥çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦æ”¾å…¥libä¸‹æ‰“åŒ…ï¼‰</li>
</ul>
</li>
<li><pre><code class="jsp">&lt;%--å¼•å…¥jstlçš„æ ¸å¿ƒæ ‡ç­¾åº“--%&gt;
&lt;%--prefix=&quot;è¿™é‡Œéšä¾¿èµ·åå³å¯ï¼Œä¸€èˆ¬æ˜¯c&quot;--%&gt;
&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- JSTLæ ‡ç­¾åº“çš„åŸç†</span><br><span class="line"></span><br><span class="line">  - ```</span><br><span class="line">    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</span><br><span class="line">    è¿™å®é™…ä¸ŠæŒ‡å‘äº†ä¸€ä¸ªxxx.tldæ–‡ä»¶</span><br><span class="line">    tldå®é™…ä¸Šæ˜¯ä¸€ä¸ªxmlé…ç½®æ–‡ä»¶</span><br><span class="line">    è¿™ä¸ªæ–‡ä»¶ä¸­æè¿°äº†æ ‡ç­¾ä¸javaç±»çš„å…³ç³»</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>ä»¥catchéƒ¨åˆ†çš„é…ç½®æ–‡ä»¶ä¸ºä¾‹</p>
</li>
<li><pre><code class="xml">  &lt;tag&gt;
    &lt;description&gt;
        &lt;!--æ ‡ç­¾çš„æè¿°--&gt;
        Catches any Throwable that occurs in its body and optionally
        exposes it.
    &lt;/description&gt;
    &lt;name&gt;&lt;!--æ ‡ç­¾çš„åå­—--&gt;catch&lt;/name&gt;
    &lt;tag-class&gt;&lt;!--æ ‡ç­¾å¯¹åº”çš„javaç±»--&gt;org.apache.taglibs.standard.tag.common.core.CatchTag&lt;/tag-class&gt;
    &lt;body-content&gt;&lt;!--æ ‡ç­¾ä½“å½“ä¸­å¯ä»¥å‡ºç°çš„å†…å®¹ï¼Œå¦‚æœæ˜¯JSPï¼Œå°±è¡¨ç¤ºæ ‡ç­¾ä½“ä¸­å¯ä»¥å‡ºç°ç¬¦åˆjspæ‰€æœ‰è¯­æ³•çš„ä»£ç ï¼Œæ¯”å¦‚ELè¡¨è¾¾å¼--&gt;JSP&lt;/body-content&gt;
    &lt;attribute&gt;&lt;!--æ ‡ç­¾çš„å±æ€§--&gt;
        &lt;description&gt;
            &lt;!--æ ‡ç­¾å±æ€§çš„æè¿°--&gt;
Name of the exported scoped variable for the
exception thrown from a nested action. The type of the
scoped variable is the type of the exception thrown.
        &lt;/description&gt;
        &lt;name&gt;&lt;!--æ ‡ç­¾çš„å±æ€§åç§°--&gt;var&lt;/name&gt;
        &lt;required&gt;false&lt;!--è¿™é‡Œè¡¨ç¤ºè¯¥å±æ€§ä¸æ˜¯å¿…é¡»çš„--&gt;&lt;/required&gt;
        &lt;rtexprvalue&gt;false&lt;!--è¡¨ç¤ºè¯¥å±æ€§ä¸æ”¯æŒELè¡¨è¾¾å¼--&gt;&lt;/rtexprvalue&gt;
    &lt;/attribute&gt;
  &lt;/tag&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- å¸¸ç”¨çš„æ ‡ç­¾</span><br><span class="line"></span><br><span class="line">  - c:if</span><br><span class="line"></span><br><span class="line">    - ```jsp</span><br><span class="line">      &lt;%--æ²¡æœ‰elseæ ‡ç­¾ï¼Œå¯ä»¥ç”¨ä¸¤ä¸ªifä»£æ›¿--%&gt;</span><br><span class="line">      &lt;%--varå±æ€§å­˜å‚¨çš„æ˜¯testå±æ€§çš„å€¼ï¼ˆtrue/falseï¼‰ï¼Œä¸æ˜¯å¿…é¡»çš„--%&gt;</span><br><span class="line">      &lt;%--scopeæŒ‡å®švarçš„å­˜å‚¨åŸŸï¼ˆå››å¤§ä½œç”¨åŸŸï¼‰ï¼Œä¸æ˜¯å¿…é¡»çš„--%&gt;</span><br><span class="line">      &lt;c:if test=&quot;$&#123;not empty param.username&#125;&quot; var=&quot;v&quot; scope=&quot;request&quot;&gt;</span><br><span class="line">          &lt;h1&gt;æ¬¢è¿ä½ $&#123;param.username&#125;ã€‚&lt;/h1&gt;</span><br><span class="line">      &lt;/c:if&gt;</span><br><span class="line">      $&#123;v&#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>c:forEach</p>
<ul>
<li><pre><code class="jsp">&lt;c:forEach var=&quot;i&quot; begin=&quot;1&quot; end=&quot;10&quot; step=&quot;1&quot;&gt;
    $&#123;i&#125;&lt;br&gt;
&lt;/c:forEach&gt;

varå±æ€§ä»£è¡¨çš„æ˜¯é›†åˆä¸­çš„æ¯ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡
varStatuså±æ€§è¡¨ç¤ºvarçš„çŠ¶æ€å¯¹è±¡ï¼Œæœ‰ä¸€ä¸ªcountå±æ€§
&lt;c:forEach items=&quot;$&#123;stuList&#125;&quot; var=&quot;s&quot; varStatus=&quot;stuStatus&quot;&gt;
&lt;%--    varStatusçš„countå±æ€§å€¼ä»1å¼€å§‹ï¼Œç„¶åé€’å¢ï¼Œç”¨äºç¼–å·--%&gt;
    ç¼–å·ï¼š$&#123;stuStatus.count&#125;,id:$&#123;s.id&#125;,name:$&#123;s.name&#125;
&lt;/c:forEach&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- c:choose</span><br><span class="line"></span><br><span class="line">  - ```jsp</span><br><span class="line">    &lt;%--å°±æ˜¯if ,else ifè¯­å¥--%&gt;</span><br><span class="line">    &lt;c:choose&gt;</span><br><span class="line">        &lt;c:when test=&quot;$&#123;param.age &lt; 18&#125;&quot;&gt;</span><br><span class="line">            é’å°‘å¹´</span><br><span class="line">        &lt;/c:when&gt;</span><br><span class="line">        &lt;c:when test=&quot;$&#123;param.age &gt;= 18 &amp;&amp; param.age &lt; 35&#125;&quot;&gt;</span><br><span class="line">            é’å¹´</span><br><span class="line">        &lt;/c:when&gt;</span><br><span class="line">        &lt;c:when test=&quot;$&#123;param.age &gt;= 35 &amp;&amp; param.age &lt; 50&#125;&quot;&gt;</span><br><span class="line">            ä¸­å¹´</span><br><span class="line">        &lt;/c:when&gt;</span><br><span class="line">        &lt;c:otherwise&gt;</span><br><span class="line">            è€å¹´</span><br><span class="line">        &lt;/c:otherwise&gt;</span><br><span class="line">    &lt;/c:choose&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="ğŸ¤©Filterè¿‡æ»¤å™¨"><a href="#ğŸ¤©Filterè¿‡æ»¤å™¨" class="headerlink" title="ğŸ¤©Filterè¿‡æ»¤å™¨"></a>ğŸ¤©Filterè¿‡æ»¤å™¨</h1><ul>
<li><p>Filter</p>
<ul>
<li>Filterå¯ä»¥åœ¨Servletè¿™ä¸ªç›®æ ‡ç¨‹åºæ‰§è¡Œä¹‹å‰æˆ–è€…æ‰§è¡Œä¹‹åæ·»åŠ ä»£ç ï¼ˆè¿‡æ»¤è§„åˆ™ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºå…¬å…±ä»£ç ï¼Œæ¯”å¦‚ç™»å½•éªŒè¯ï¼‰</li>
</ul>
</li>
<li><p>å†™ä¸€ä¸ªè¿‡æ»¤å™¨</p>
<ul>
<li><pre><code class="java">package com.niu.servlet;

import jakarta.servlet.*;
import jakarta.servlet.annotation.WebFilter;

import java.io.IOException;

//è¿™ç§æ¨¡ç³ŠåŒ¹é…ä¸è¦ä»¥&quot;/&quot;å¼€å§‹ï¼Œè¿™é‡Œè¡¨ç¤ºæ‰€æœ‰ä»¥.doç»“å°¾çš„Servletè¯·æ±‚è·¯å¾„éƒ½è¦ç»è¿‡è¿‡æ»¤å™¨
@WebFilter(&quot;*.do&quot;)
public class Filter_1 implements jakarta.servlet.Filter &#123;
    @Override
    public void init(FilterConfig filterConfig) throws ServletException &#123;
        System.out.println(&quot;initæ–¹æ³•æ‰§è¡Œ&quot;);
    &#125;

    @Override
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
            throws IOException, ServletException &#123;
        //åœ¨è¯·æ±‚çš„æ—¶å€™æ·»åŠ è¿‡æ»¤è§„åˆ™
        System.out.println(&quot;doFilteræ–¹æ³•å¼€å§‹æ‰§è¡Œ&quot;);
        //æ‰§è¡Œä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¦‚æœä¸‹ä¸€ä¸ªä¸æ˜¯è¿‡æ»¤å™¨ï¼Œåˆ™æ‰§è¡Œç›®æ ‡Servlet
        chain.doFilter(request, response);
        //åœ¨å“åº”çš„æ—¶å€™æ·»åŠ è¿‡æ»¤è§„åˆ™
        System.out.println(&quot;doFilteræ–¹æ³•æ‰§è¡Œå®Œæ¯•&quot;);
        /*
            æ•ˆæœï¼š
            doFilteræ–¹æ³•å¼€å§‹æ‰§è¡Œ
            AServletæ‰§è¡Œ
            doFilteræ–¹æ³•æ‰§è¡Œå®Œæ¯•
         */
    &#125;

    @Override
    public void destroy() &#123;
        System.out.println(&quot;destroyæ–¹æ³•æ‰§è¡Œ&quot;);
    &#125;
&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- å…³äºæ–¹æ³•ï¼š</span><br><span class="line"></span><br><span class="line">  - initæ–¹æ³•ï¼šåœ¨Filterå¯¹è±¡ç¬¬ä¸€æ¬¡è¢«åˆ›å»ºä¹‹åè°ƒç”¨ï¼Œå¹¶ä¸”åªè°ƒç”¨ä¸€æ¬¡ã€‚</span><br><span class="line">  - doFilteræ–¹æ³•ï¼šåªè¦ç”¨æˆ·å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œå°±æ‰§è¡Œä¸€æ¬¡ï¼ˆæ‰€ä»¥åœ¨æ­¤ç¼–è¾‘è¿‡æ»¤è§„åˆ™ï¼‰ã€‚</span><br><span class="line">  - destoryæ–¹æ³•ï¼šåœ¨Filterå¯¹è±¡è¢«é”€æ¯å‰è°ƒç”¨ï¼Œå¹¶ä¸”åªè°ƒç”¨ä¸€æ¬¡ã€‚</span><br><span class="line">  - Filteä¸Servletçš„ç”Ÿå‘½å‘¨æœŸä¸€è‡´</span><br><span class="line"></span><br><span class="line">- åœ¨xmlæ–‡ä»¶ä¸­å¯¹Filterè¿›è¡Œé…ç½®ï¼Œç±»ä¼¼äºServlet</span><br><span class="line"></span><br><span class="line">  - ```xml</span><br><span class="line">    &lt;filter&gt;</span><br><span class="line">        &lt;filter-name&gt;filter&lt;/filter-name&gt;</span><br><span class="line">        &lt;filter-class&gt;com.niu.servlet.Filter_1&lt;/filter-class&gt;</span><br><span class="line">    &lt;/filter&gt;</span><br><span class="line">    &lt;filter-mapping&gt;</span><br><span class="line">        &lt;filter-name&gt;filter&lt;/filter-name&gt;</span><br><span class="line">        &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;</span><br><span class="line">    &lt;/filter-mapping&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>ä½¿ç”¨æ³¨è§£ä¹Ÿå¯ä»¥ï¼ˆä½†å› ä¸ºè´£ä»»é“¾è®¾è®¡æ¨¡å¼ï¼Œä¸€èˆ¬è¿˜æ˜¯åœ¨xmlæ–‡ä»¶é‡Œé…ç½®ï¼‰</p>
<ul>
<li><pre><code class="java">//è¿™ç§æ¨¡ç³ŠåŒ¹é…ä¸è¦ä»¥&quot;/&quot;å¼€å§‹ï¼Œè¿™é‡Œè¡¨ç¤ºæ‰€æœ‰ä»¥.doç»“å°¾çš„Servletè¯·æ±‚è·¯å¾„éƒ½è¦ç»è¿‡è¿‡æ»¤å™¨
@WebFilter(&quot;*.do&quot;)
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- è¡¥å……</span><br><span class="line"></span><br><span class="line">  - Servletå¯¹è±¡é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶æ˜¯ä¸ä¼šæ–°å»ºå¯¹è±¡çš„</span><br><span class="line">  - Filterå¯¹è±¡é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ä¼šåˆ›å»ºå¯¹è±¡</span><br><span class="line">  - Servletå’ŒFilteréƒ½æ˜¯å•ä¾‹çš„ï¼ˆå•å®ä¾‹ï¼‰ã€‚</span><br><span class="line">  - Filterçš„ä¼˜å…ˆçº§é«˜äºServletï¼ŒåŒä¸€ä¸ªè¯·æ±‚è·¯å¾„ï¼Œä¸€å®šæ˜¯å…ˆå»æ‰§è¡ŒFilterå†å»æ‰§è¡ŒServlet</span><br><span class="line"></span><br><span class="line">- å…³äºè·¯å¾„çš„é…ç½®</span><br><span class="line"></span><br><span class="line">  - /a.doã€/b.do è¿™äº›éƒ½æ˜¯ç²¾ç¡®åŒ¹é…</span><br><span class="line">  - /* åŒ¹é…æ‰€æœ‰è·¯å¾„</span><br><span class="line">  - *.do åç¼€åŒ¹é…ï¼Œæ³¨æ„ä¸è¦ä»¥/å¼€å§‹</span><br><span class="line">  - /dept/* å‰ç¼€åŒ¹é…</span><br><span class="line">  - æ­¤å¤–xmlæ–‡ä»¶é‡Œé…ç½®è·¯å¾„æ—¶ï¼ŒFilterçš„æ‰§è¡Œé¡ºåºæŒ‰&lt;filter-mapping&gt;æ ‡ç­¾ä¼˜å…ˆçº§ä»ä¸Šå¾€ä¸‹ï¼›æ³¨è§£åˆ™æ˜¯æŒ‰ç…§å­—æ¯æ’åºï¼Œä»A-Z</span><br><span class="line">  - è¿‡æ»¤å™¨çš„è°ƒç”¨é¡ºåºéµå¾ªæ ˆæ•°æ®ç»“æ„ï¼ˆå…ˆè¿›åå‡ºï¼‰</span><br><span class="line"></span><br><span class="line">- è´£ä»»é“¾è®¾è®¡æ¨¡å¼</span><br><span class="line"></span><br><span class="line">  - å…ˆçœ‹è¿™ä¸ªç¨‹åºçš„é—®é¢˜</span><br><span class="line"></span><br><span class="line">    - ```java</span><br><span class="line">      package com.niu.servlet;</span><br><span class="line">      </span><br><span class="line">      public class Test &#123;</span><br><span class="line">          public static void main(String[] args) &#123;</span><br><span class="line">              System.out.println(&quot;method begin&quot;);</span><br><span class="line">              m1();</span><br><span class="line">              System.out.println(&quot;method over&quot;);</span><br><span class="line">          &#125;</span><br><span class="line">      </span><br><span class="line">          private static void m1() &#123;</span><br><span class="line">              System.out.println(&quot;method begin&quot;);</span><br><span class="line">              m2();</span><br><span class="line">              System.out.println(&quot;method over&quot;);</span><br><span class="line">          &#125;</span><br><span class="line">      </span><br><span class="line">          private static void m2() &#123;</span><br><span class="line">              System.out.println(&quot;method begin&quot;);</span><br><span class="line">              m3();</span><br><span class="line">              System.out.println(&quot;method over&quot;);</span><br><span class="line">          &#125;</span><br><span class="line">      </span><br><span class="line">          private static void m3() &#123;</span><br><span class="line">              System.out.println(&quot;ç›®æ ‡ç¨‹åºæ‰§è¡Œ&quot;);</span><br><span class="line">          &#125;</span><br><span class="line">          </span><br><span class="line">      &#125;</span><br><span class="line">      /*</span><br><span class="line">      method begin</span><br><span class="line">      method begin</span><br><span class="line">      method begin</span><br><span class="line">      ç›®æ ‡ç¨‹åºæ‰§è¡Œ</span><br><span class="line">      method over</span><br><span class="line">      method over</span><br><span class="line">      method over</span><br><span class="line">       */</span><br></pre></td></tr></table></figure>

- è¿™ä¸ªç¨‹åºåœ¨ç¼–è¯‘é˜¶æ®µå°±ç¡®å®šäº†è°ƒç”¨é¡ºåºï¼Œæƒ³è¦ä¿®æ”¹è°ƒç”¨é¡ºåºï¼Œå¿…é¡»å¯¹Javaä»£ç ä½œå‡ºå¤§é‡ä¿®æ”¹ï¼Œè¿™ä¸ç¬¦åˆå¼€é—­åŸåˆ™
</code></pre>
</li>
<li><p>è€Œè¿‡æ»¤å™¨åœ¨ç¼–è¯‘é˜¶æ®µä¸ä¼šç¡®å®šè°ƒç”¨é¡ºåºï¼Œå› ä¸ºè¿™ä¸ªè°ƒç”¨é¡ºåºæ˜¯é…ç½®åœ¨xmlæ–‡ä»¶é‡Œçš„ï¼Œæ˜¯åŠ¨æ€å¯è°ƒçš„ï¼ˆä¸ç”¨è°ƒæ•´Javaä»£ç ï¼‰ï¼Œè¿™ç§è®¾è®¡æ¨¡å¼è¢«ç§°ä½œè´£ä»»é“¾è®¾è®¡æ¨¡å¼ã€‚</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="ğŸ˜ŠLIstenerç›‘å¬å™¨"><a href="#ğŸ˜ŠLIstenerç›‘å¬å™¨" class="headerlink" title="ğŸ˜ŠLIstenerç›‘å¬å™¨"></a>ğŸ˜ŠLIstenerç›‘å¬å™¨</h1><ul>
<li><p>crtl+o ä»£ç å¿«é€Ÿè¡¥å…¨</p>
</li>
<li><p>ç›‘å¬å™¨Listenerä¸è¿‡æ»¤å™¨Filterä¸€æ ·ï¼Œéƒ½æ˜¯Servletè§„èŒƒä¸­çš„ä¸€å‘˜ã€‚</p>
<p>ç›‘å¬å™¨å®é™…ä¸Šæ˜¯Servletè§„èŒƒç•™ç»™æˆ‘ä»¬ç¨‹åºå‘˜çš„ç‰¹æ®Šæ—¶æœºã€‚</p>
<p>ç›‘å¬å™¨ä¸­çš„æ–¹æ³•ä¸éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨è°ƒç”¨ï¼Œæ˜¯å‘ç”ŸæŸä¸ªç‰¹æ®Šäº‹ä»¶åè¢«æœåŠ¡å™¨è°ƒç”¨ã€‚</p>
</li>
<li><p>Servletè§„èŒƒä¸­æä¾›äº†ä»¥ä¸‹ç›‘å¬å™¨ï¼š</p>
<ul>
<li><p>Jakarta.servletåŒ…ä¸‹ï¼š</p>
<ul>
<li><p>ServletContextListener</p>
<ul>
<li><p>è¯¥ç›‘å¬å™¨ç›‘å¬çš„æ˜¯ServletContextå¯¹è±¡çš„çŠ¶æ€</p>
</li>
<li><pre><code class="java">package com.niu.servlet;

import jakarta.servlet.ServletContextEvent;
import jakarta.servlet.ServletContextListener;
import jakarta.servlet.annotation.WebListener;

@WebListener
public class MyServletContextListener implements ServletContextListener &#123;
    @Override
    public void contextInitialized(ServletContextEvent sce) &#123;
        //è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ServletContextå¯¹è±¡è¢«åˆ›å»ºæ—¶è°ƒç”¨
        System.out.println(&quot;ServletContextå¯¹è±¡åˆ›å»ºäº†&quot;);
    &#125;

    @Override
    public void contextDestroyed(ServletContextEvent sce) &#123;
        //è¿™ä¸ªæ–¹æ³•æ˜¯åœ¨ServletContextå¯¹è±¡è¢«é”€æ¯æ—¶è°ƒç”¨
        System.out.println(&quot;ServletContextå¯¹è±¡è¢«é”€æ¯äº†&quot;);
    &#125;
&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    - ServletContextAttributeListener</span><br><span class="line"></span><br><span class="line">    - ServletRequestListener</span><br><span class="line"></span><br><span class="line">    - ServletRequestAttributeListener</span><br><span class="line"></span><br><span class="line">  - Jakarta.servlet.httpåŒ…ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">    - HttpSessionListener</span><br><span class="line"></span><br><span class="line">    - HttpSessionAttributeListener</span><br><span class="line"></span><br><span class="line">      - è¯¥ç›‘å¬å™¨çš„ä½¿ç”¨éœ€è¦ä½¿ç”¨@WebListeneræ³¨è§£è¿›è¡Œæ ‡æ³¨ã€‚</span><br><span class="line"></span><br><span class="line">      - è¯¥ç›‘å¬å™¨ç›‘å¬sessionåŸŸä¸­æ•°æ®çš„å˜åŒ–ï¼Œåªè¦æ•°æ®å˜åŒ–ï¼Œåˆ™æ‰§è¡Œç›¸åº”çš„æ–¹æ³•ã€‚</span><br><span class="line"></span><br><span class="line">    - HttpSessionBindingListener</span><br><span class="line"></span><br><span class="line">      - è¯¥ç›‘å¬å™¨ä¸éœ€è¦ä½¿ç”¨æ³¨è§£è¿›è¡Œæ ‡æ³¨</span><br><span class="line"></span><br><span class="line">      - å‡è®¾Userç±»å®ç°äº†è¯¥ç›‘å¬å™¨ï¼Œé‚£ä¹ˆUserå¯¹è±¡åœ¨è¢«æ”¾å…¥sessionçš„æ—¶å€™ä¼šè§¦å‘bindäº‹ä»¶ï¼ŒUserå¯¹è±¡ä»sessionä¸­åˆ é™¤æ—¶ï¼Œè§¦å‘unbindäº‹ä»¶</span><br><span class="line"></span><br><span class="line">      - å‡è®¾Customerç±»æ²¡æœ‰å®ç°è¯¥ç›‘å¬å™¨ï¼Œé‚£ä¹ˆCustomerå¯¹è±¡æ”¾å…¥æˆ–è€…åˆ é™¤sessionæ—¶ï¼Œä¸ä¼šè§¦å‘bindå’Œunbindäº‹ä»¶</span><br><span class="line"></span><br><span class="line">    - HttpSessionIdListenerï¼ˆä¸å¸¸ç”¨ï¼‰</span><br><span class="line"></span><br><span class="line">      - å½“sessionçš„idå‘ç”Ÿå˜åŒ–æ—¶ï¼Œç›‘å¬å™¨ä¸­çš„ä¸€ä¸ªæ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚</span><br><span class="line"></span><br><span class="line">    - HttpSessionActivationListenerï¼ˆä¸å¸¸ç”¨ï¼‰</span><br><span class="line"></span><br><span class="line">      - ç›‘å¬sessionå¯¹è±¡çš„é’åŒ–ï¼ˆsessionå¯¹è±¡ä»å†…å­˜åˆ°ç¡¬ç›˜æ–‡ä»¶ï¼‰ä¸æ´»åŒ–ï¼ˆä»ç¡¬ç›˜æ–‡ä»¶æŠŠsessionæ¢å¤åˆ°å†…å­˜ï¼‰</span><br><span class="line"></span><br><span class="line">- å¯ä»¥ä½¿ç”¨ç›‘å¬å™¨ï¼ˆHttpSessionBindingListenerï¼‰å®ç°å®æ—¶æ›´æ–°ç½‘ç«™åœ¨çº¿äººæ•°çš„æ“ä½œ</span><br><span class="line"></span><br><span class="line">  - ```java</span><br><span class="line">    package com.niu.oa.bean;</span><br><span class="line">    </span><br><span class="line">    import jakarta.servlet.ServletContext;</span><br><span class="line">    import jakarta.servlet.http.HttpSessionBindingEvent;</span><br><span class="line">    import jakarta.servlet.http.HttpSessionBindingListener;</span><br><span class="line">    </span><br><span class="line">    import java.util.Objects;</span><br><span class="line">    </span><br><span class="line">    public class User implements HttpSessionBindingListener &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void valueBound(HttpSessionBindingEvent event) &#123;</span><br><span class="line">            //ç”¨æˆ·ç™»å½•äº†</span><br><span class="line">            //Userç±»å‹çš„å¯¹è±¡å¾€sessionä¸­å­˜æ”¾äº†</span><br><span class="line">            //è·å–ServletContextå¯¹è±¡ï¼Œå¯¹äºä¸€ä¸ªwebappæ¥è¯´ï¼ŒServletContextå¯¹è±¡åªæœ‰ä¸€ä¸ªï¼Œä¸”åœ¨æœåŠ¡å™¨å…³é—­æ—¶é”€æ¯</span><br><span class="line">            //requestï¼ˆè¯·æ±‚åŸŸ è¯·æ±‚çº§ HttpServletRequestï¼‰&lt;sessionï¼ˆä¼šè¯åŸŸ ç”¨æˆ·çº§ HttpSessionï¼‰&lt;applicationï¼ˆåº”ç”¨åŸŸ é¡¹ç›®çº§ ServletContextï¼‰</span><br><span class="line">            ServletContext application = event.getSession().getServletContext();</span><br><span class="line">            //è·å–åœ¨çº¿äººæ•°</span><br><span class="line">            Object onlinecount = application.getAttribute(&quot;onlinecount&quot;);</span><br><span class="line">            if (onlinecount == null)&#123;</span><br><span class="line">                application.setAttribute(&quot;onlinecount&quot;, 1);</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">                int count = (Integer)onlinecount;</span><br><span class="line">                count++;</span><br><span class="line">                application.setAttribute(&quot;onlinecount&quot;, count);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        @Override</span><br><span class="line">        public void valueUnbound(HttpSessionBindingEvent event) &#123;</span><br><span class="line">            //ç”¨æˆ·é€€å‡ºäº†</span><br><span class="line">            //Userç±»å‹çš„å¯¹è±¡ä»sessionåŸŸä¸­è¢«åˆ é™¤äº†</span><br><span class="line">            ServletContext application = event.getSession().getServletContext();</span><br><span class="line">            Integer onlinecount = (Integer)application.getAttribute(&quot;onlinecount&quot;);</span><br><span class="line">            onlinecount--;</span><br><span class="line">            application.setAttribute(&quot;onlinecount&quot;, onlinecount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li><p>å†åœ¨ç”¨æˆ·ç™»å½•æˆåŠŸçš„æƒ…å†µä¸‹ï¼Œåˆ›å»ºç”¨æˆ·å¯¹è±¡å¹¶æ”¾åˆ°sessionä½œç”¨åŸŸå³å¯</p>
<ul>
<li><pre><code class="java">if (success)&#123;
            User user = new User();
            user.setUsername(username);
            user.setPassword(password);
    
            //è·å–sessionå¯¹è±¡ï¼Œå¿…é¡»è·å–åˆ°session
            HttpSession session = req.getSession();
            session.setAttribute(&quot;user&quot;, user);
&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- jspç•Œé¢ä½œæ˜¾ç¤º(æ³¨æ„åœ¨çº¿äººæ•°æ˜¯æ”¾åœ¨æœ€å¤§çš„ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯åº”ç”¨ä½œç”¨åŸŸ)</span><br><span class="line"></span><br><span class="line">  - ```jsp</span><br><span class="line">    &lt;h3&gt;æ¬¢è¿$&#123;sessionscope.username&#125;,åœ¨çº¿äººæ•°$&#123;applicationScope.onlinecount&#125;&lt;/h3&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="ğŸ˜€æ€»ç»“ä¸€ä¸‹å››å¤§ä½œç”¨åŸŸ"><a href="#ğŸ˜€æ€»ç»“ä¸€ä¸‹å››å¤§ä½œç”¨åŸŸ" class="headerlink" title="ğŸ˜€æ€»ç»“ä¸€ä¸‹å››å¤§ä½œç”¨åŸŸ"></a>ğŸ˜€æ€»ç»“ä¸€ä¸‹å››å¤§ä½œç”¨åŸŸ</h1><p>è¿™å››å¤§ä½œç”¨åŸŸçš„ä½œç”¨èŒƒå›´ä»å°åˆ°å¤§æ’åˆ—å¦‚ä¸‹ï¼š</p>
<ul>
<li><p><strong>é¡µé¢ä½œç”¨åŸŸï¼ˆPage Scopeï¼‰pageContext</strong>ï¼šæ•°æ®å­˜å‚¨èŒƒå›´ä»…åœ¨å½“å‰çš„JSPé¡µé¢ä¸­æœ‰æ•ˆï¼Œä¸åŒé¡µé¢ä¹‹é—´çš„æ•°æ®æ˜¯éš”ç¦»çš„ã€‚</p>
</li>
<li><p>**è¯·æ±‚ä½œç”¨åŸŸï¼ˆRequest Scopeï¼‰HttpServletRequest **ï¼šæ•°æ®å­˜å‚¨èŒƒå›´ä»…åœ¨ä¸€æ¬¡HTTPè¯·æ±‚è¿‡ç¨‹ä¸­æœ‰æ•ˆã€‚request</p>
</li>
<li><p><strong>ä¼šè¯ä½œç”¨åŸŸï¼ˆSession Scopeï¼‰HttpSession</strong>ï¼šæ•°æ®å­˜å‚¨èŒƒå›´åœ¨ç”¨æˆ·çš„æ•´ä¸ªä¼šè¯æœŸé—´æœ‰æ•ˆï¼Œè·¨å¤šä¸ªè¯·æ±‚ã€‚session</p>
</li>
<li><p><strong>åº”ç”¨ä½œç”¨åŸŸï¼ˆApplication Scopeï¼‰ServletContext</strong>ï¼šæ•°æ®å­˜å‚¨èŒƒå›´åœ¨æ•´ä¸ªWebåº”ç”¨ç¨‹åºä¸­æœ‰æ•ˆï¼Œå¯¹æ‰€æœ‰ç”¨æˆ·å’Œä¼šè¯å¯è§ã€‚application</p>
</li>
</ul>
<h1 id="ğŸ˜—å…³äºMVCè®¾è®¡æ¨¡å¼ä¸å‰åç«¯åˆ†ç¦»"><a href="#ğŸ˜—å…³äºMVCè®¾è®¡æ¨¡å¼ä¸å‰åç«¯åˆ†ç¦»" class="headerlink" title="ğŸ˜—å…³äºMVCè®¾è®¡æ¨¡å¼ä¸å‰åç«¯åˆ†ç¦»"></a>ğŸ˜—å…³äºMVCè®¾è®¡æ¨¡å¼ä¸å‰åç«¯åˆ†ç¦»</h1><ul>
<li>ä¼ ç»Ÿçš„ MVC æ¶æ„ä¸­ï¼Œä¾‹å¦‚ä½¿ç”¨ Servlet + JSPï¼Œé€šå¸¸å¹¶æ²¡æœ‰åšåˆ°ä¸¥æ ¼çš„å‰åç«¯åˆ†ç¦»ã€‚åœ¨è¿™ç§æ¶æ„ä¸‹ï¼ŒJava ä»£ç è´Ÿè´£å¤„ç†è¯·æ±‚ã€æ§åˆ¶é€»è¾‘ã€æ•°æ®å¤„ç†ç­‰ï¼Œè€Œ JSP é¡µé¢è´Ÿè´£å‘ˆç° HTML å†…å®¹ã€‚å› æ­¤ï¼Œå³ä½¿åœ¨ MVC æ¶æ„ä¸­ï¼ŒJava ä»£ç ä¸å‰ç«¯çš„ HTML é¡µé¢ä»ç„¶è€¦åˆåœ¨ä¸€èµ·ã€‚</li>
<li>SSMï¼ˆSpring + Spring MVC + MyBatisï¼‰æ¡†æ¶ç»“åˆç¡®å®åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ²¡æœ‰ä¸¥æ ¼å®ç°å‰åç«¯åˆ†ç¦»ã€‚è™½ç„¶ SSM æ¡†æ¶å°†åº”ç”¨åˆ†ä¸ºäº†ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆServiceï¼‰ã€æ•°æ®è®¿é—®å±‚ï¼ˆDAOï¼‰ã€æ§åˆ¶å™¨å±‚ï¼ˆControllerï¼‰ã€è§†å›¾å±‚ï¼ˆJSP æˆ–è€… Thymeleafï¼‰ï¼Œä½†å‰ç«¯è§†å›¾é€šå¸¸æ˜¯ç›´æ¥ç”±æœåŠ¡å™¨ç«¯æ¸²æŸ“å¹¶ç”Ÿæˆï¼Œä¸åç«¯ä»£ç è€¦åˆè¾ƒä¸ºç´§å¯†ã€‚</li>
<li>å‰åç«¯åˆ†ç¦»çš„æ¦‚å¿µæ˜¯ä¸ºäº†æ›´å¥½åœ°å®ç°å‰ç«¯ä¸åç«¯çš„èŒè´£åˆ†ç¦»ï¼Œè®©å‰ç«¯è´Ÿè´£é¡µé¢å‘ˆç°å’Œç”¨æˆ·äº¤äº’ï¼Œåç«¯åˆ™è´Ÿè´£æ•°æ®å¤„ç†å’Œä¸šåŠ¡é€»è¾‘ã€‚åœ¨å‰åç«¯åˆ†ç¦»çš„æ¶æ„ä¸­ï¼Œé€šå¸¸é‡‡ç”¨å‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Vue.jsã€Reactã€Angular ç­‰ï¼‰æ¥æ„å»ºç”¨æˆ·ç•Œé¢ï¼Œè€Œåç«¯æä¾› RESTful API æˆ– GraphQL æ¥å£æ¥å¤„ç†æ•°æ®å’Œä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://blog-demo-beige-five.vercel.app">Cleftgou</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://blog-demo-beige-five.vercel.app/2023/12/25/JavaWebStudy/">https://blog-demo-beige-five.vercel.app/2023/12/25/JavaWebStudy/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://blog-demo-beige-five.vercel.app" target="_blank">Cleftgou-Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/images/%E5%B0%8F%E7%BE%8A.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>èµåŠ©</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/images/%E5%BF%AB%E7%BB%99%E6%88%91%E6%89%93%E9%92%B1!.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/%E5%BF%AB%E7%BB%99%E6%88%91%E6%89%93%E9%92%B1!.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/images/%E5%BF%AB%E7%BB%99%E6%88%91%E6%89%93%E9%92%B1!.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/%E5%BF%AB%E7%BB%99%E6%88%91%E6%89%93%E9%92%B1!.png" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/02/02/MavenStudy/" title="MavenStudy"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/%E6%B2%B9%E7%94%BB%E9%A3%8E3.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">MavenStudy</div></div></a></div><div class="next-post pull-right"><a href="/2023/09/06/JDBCStudy/" title="JDBCStudy"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/%E6%B2%B9%E7%94%BB%E9%A3%8E2.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">JDBCStudy</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/%E5%A4%B4%E5%83%8F1.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Cleftgou</div><div class="author-info__description">ä¸ªäººåšå®¢</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Cleftgou"><i class="fab fa-github"></i><span>æ¬¢è¿è®¿é—®æˆ‘çš„GitHubä¸»é¡µ!</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Cleftgou" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1209949732@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://twitter.com/your_twitter_handle" target="_blank" title="Twitter"><i class="fab fa-twitter" style="color: #1da1f2;"></i></a><a class="social-icon" href="https://www.linkedin.com/in/your_linkedin_profile" target="_blank" title="LinkedIn"><i class="fab fa-linkedin" style="color: #0a66c2;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content"><center>ä¸»åŸŸåï¼š<a href="https://blog-demo-beige-five.vercel.app/"><font color="#5ea6e5">www.cleftgou.com</font></a><br><a href="mailto:cleftgou@gmail.com">ğŸ“¬ï¼š<font color="#a591e0">cleftgou@gmail.com</font></a><br></center></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%8A%E4%B8%80%E4%B8%AA%E5%90%88%E6%B3%95%E7%9A%84webapp%E7%9B%AE%E5%BD%95"><span class="toc-text">ğŸ˜Šä¸€ä¸ªåˆæ³•çš„webappç›®å½•</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%8A%E5%9C%A8idea%E4%B8%AD%E5%BC%80%E5%8F%91servlet%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="toc-text">ğŸ˜Šåœ¨ideaä¸­å¼€å‘servletç¨‹åºçš„æ­¥éª¤</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%8AServlet%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">ğŸ˜ŠServletå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%8EServletConfig"><span class="toc-text">ğŸ˜ServletConfig</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%8EServletContext"><span class="toc-text">ğŸ˜ServletContext</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%8AHTTP%E5%8D%8F%E8%AE%AE"><span class="toc-text">ğŸ˜ŠHTTPåè®®</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%82web%E7%AB%99%E7%82%B9%E7%9A%84%E6%AC%A2%E8%BF%8E%E7%95%8C%E9%9D%A2"><span class="toc-text">ğŸ˜‚webç«™ç‚¹çš„æ¬¢è¿ç•Œé¢</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%98WEB-INF%E7%9B%AE%E5%BD%95"><span class="toc-text">ğŸ˜˜WEB-INFç›®å½•</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%97HttpServletResquest%E6%8E%A5%E5%8F%A3"><span class="toc-text">ğŸ˜—HttpServletResquestæ¥å£</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A4%94%E5%B0%86OA%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E8%B5%84%E6%BA%90%E8%B7%B3%E8%BD%AC%E4%BF%AE%E6%94%B9%E4%B8%BA%E5%90%88%E9%80%82%E7%9A%84%E8%B7%B3%E8%BD%AC%E6%96%B9%E5%BC%8F"><span class="toc-text">ğŸ¤”å°†OAé¡¹ç›®ä¸­çš„èµ„æºè·³è½¬ä¿®æ”¹ä¸ºåˆé€‚çš„è·³è½¬æ–¹å¼</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A4%94Servlet%E6%B3%A8%E8%A7%A3%E7%AE%80%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-text">ğŸ¤”Servletæ³¨è§£ç®€åŒ–å¼€å‘</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%80%E4%BD%BF%E7%94%A8%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%BC%98%E5%8C%96oa%E9%A1%B9%E7%9B%AE"><span class="toc-text">ğŸ˜€ä½¿ç”¨æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ä¼˜åŒ–oaé¡¹ç›®</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A4%A8%E5%88%86%E6%9E%90%E4%BD%BF%E7%94%A8%E7%BA%AF%E7%B2%B9Servlet%E5%BC%80%E5%8F%91web%E5%BA%94%E7%94%A8%E7%9A%84%E7%BC%BA%E9%99%B7"><span class="toc-text">ğŸ¤¨åˆ†æä½¿ç”¨çº¯ç²¹Servletå¼€å‘webåº”ç”¨çš„ç¼ºé™·</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%97B-S%E7%BB%93%E6%9E%84%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%BC%9A%E8%AF%9D%E6%9C%BA%E5%88%B6%EF%BC%88session%E6%9C%BA%E5%88%B6%EF%BC%89"><span class="toc-text">ğŸ˜—B&#x2F;Sç»“æ„ç³»ç»Ÿçš„ä¼šè¯æœºåˆ¶ï¼ˆsessionæœºåˆ¶ï¼‰</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A4%94Cookie"><span class="toc-text">ğŸ¤”Cookie</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A4%97%E4%BD%BF%E7%94%A8cookie%E5%AE%8C%E6%88%90oa%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%8D%81%E5%A4%A9%E4%B9%8B%E5%86%85%E5%85%8D%E7%99%BB%E5%BD%95"><span class="toc-text">ğŸ¤—ä½¿ç”¨cookieå®Œæˆoaé¡¹ç›®çš„åå¤©ä¹‹å†…å…ç™»å½•</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%98EL%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">ğŸ˜˜ELè¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A4%A9JSTL%E6%A0%87%E7%AD%BE%E5%BA%93"><span class="toc-text">ğŸ¤©JSTLæ ‡ç­¾åº“</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%A4%A9Filter%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">ğŸ¤©Filterè¿‡æ»¤å™¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%8ALIstener%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-text">ğŸ˜ŠLIstenerç›‘å¬å™¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%80%E6%80%BB%E7%BB%93%E4%B8%80%E4%B8%8B%E5%9B%9B%E5%A4%A7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">ğŸ˜€æ€»ç»“ä¸€ä¸‹å››å¤§ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%F0%9F%98%97%E5%85%B3%E4%BA%8EMVC%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB"><span class="toc-text">ğŸ˜—å…³äºMVCè®¾è®¡æ¨¡å¼ä¸å‰åç«¯åˆ†ç¦»</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/05/20/%E5%8A%A8%E5%8A%9BCRM%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93/" title="åŠ¨åŠ›CRMé¡¹ç›®"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/%E5%B0%8F%E7%BE%8A.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="åŠ¨åŠ›CRMé¡¹ç›®"/></a><div class="content"><a class="title" href="/2024/05/20/%E5%8A%A8%E5%8A%9BCRM%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93/" title="åŠ¨åŠ›CRMé¡¹ç›®">åŠ¨åŠ›CRMé¡¹ç›®</a><time datetime="2024-05-20T14:03:44.000Z" title="å‘è¡¨äº 2024-05-20 22:03:44">2024-05-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/13/Spring%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="Springæºç åˆ†æ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/%E6%B2%B9%E7%94%BB%E9%A3%8E2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Springæºç åˆ†æ"/></a><div class="content"><a class="title" href="/2024/04/13/Spring%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="Springæºç åˆ†æ">Springæºç åˆ†æ</a><time datetime="2024-04-13T09:07:00.000Z" title="å‘è¡¨äº 2024-04-13 17:07:00">2024-04-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/13/MyBatis%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="MyBitisæºç åˆ†æ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/%E5%8F%8C%E5%AD%90.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MyBitisæºç åˆ†æ"/></a><div class="content"><a class="title" href="/2024/04/13/MyBatis%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="MyBitisæºç åˆ†æ">MyBitisæºç åˆ†æ</a><time datetime="2024-04-13T04:07:00.000Z" title="å‘è¡¨äº 2024-04-13 12:07:00">2024-04-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 By Cleftgou</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="/js/tw_cn.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script src="xxxx"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="30" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.2.0" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œä¸»çº¿è·¯æ‰˜ç®¡äºVercel" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œå¤‡ç”¨çº¿è·¯æ‰˜ç®¡äº4EVERLAND" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="æœ¬ç«™é¡¹ç›®ç”±Githubæ‰˜ç®¡" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯" title=""><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('å·²æŒ‚è½½butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":false},"log":false});</script></body></html>